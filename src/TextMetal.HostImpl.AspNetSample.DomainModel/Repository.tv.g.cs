//------------------------------------------------------------------------------
// <auto-generated>
// This code was generated by:
// TextMetal 5.0.6.40324;
// 		Copyright ©2002-2014 Daniel Bullington (dpbullington@gmail.com)
//		Distributed under the MIT license: http://www.opensource.org/licenses/mit-license.php
//		Project URL: https://github.com/dpbullington/textmetal
//
// Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.
//
// </auto-generated>
//------------------------------------------------------------------------------

/*
	Copyright ©2002-2014 Daniel Bullington (dpbullington@gmail.com)
	Distributed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*/

using System;
using System.Collections.Generic;
using System.Data;
using System.Data.Linq;
using System.Linq;
using System.Xml;

using TextMetal.Common.Core;
using TextMetal.Common.Data;
using TextMetal.Common.Data.LinqToSql;

using TextMetal.HostImpl.AspNetSample.DomainModel.Tables;
using TextMetal.HostImpl.AspNetSample.DomainModel.Views;

namespace TextMetal.HostImpl.AspNetSample.DomainModel
{
	public partial class Repository
	{		
		#region Methods/Operators

		public EventLogExtent LoadEventLogExtent(DateTime @minCreationTimestamp, Int32 @avgDifferenceTimestamps, DateTime @maxModificationTimestamp)
		{
			EventLogExtent @eventLogExtent;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@eventLogExtent = this.LoadEventLogExtent(unitOfWork, @minCreationTimestamp, @avgDifferenceTimestamps, @maxModificationTimestamp);

					unitOfWork.Complete();
				}
			}
			else
				@eventLogExtent = this.LoadEventLogExtent(UnitOfWork.Current, @minCreationTimestamp, @avgDifferenceTimestamps, @maxModificationTimestamp);
			
			return @eventLogExtent;
		}
		
		public EventLogExtent LoadEventLogExtent(IUnitOfWork unitOfWork, DateTime @minCreationTimestamp, Int32 @avgDifferenceTimestamps, DateTime @maxModificationTimestamp)
		{			
			EventLogExtent @eventLogExtent;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.EventLogExtents.SingleOrDefault(lo => lo.@MinCreationTimestamp == @minCreationTimestamp && lo.@AvgDifferenceTimestamps == @avgDifferenceTimestamps && lo.@MaxModificationTimestamp == @maxModificationTimestamp);

				if ((object)query == null)
					return null; // does not exist
				
				@eventLogExtent = new EventLogExtent()
								{
									// map result to POCO from L2S object
									@MinCreationTimestamp = query.@MinCreationTimestamp,
									@AvgDifferenceTimestamps = query.@AvgDifferenceTimestamps,
									@MaxModificationTimestamp = query.@MaxModificationTimestamp
								};	

				this.OnSelectEventLogExtent(unitOfWork, @eventLogExtent);

				return @eventLogExtent;
			}
		}
		
		public IEnumerable<EventLogExtent> FindEventLogExtents(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent>> callback)
		{
			IEnumerable<EventLogExtent> @eventLogExtents;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@eventLogExtents = this.FindEventLogExtents(unitOfWork, callback);

					@eventLogExtents = @eventLogExtents.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@eventLogExtents = this.FindEventLogExtents(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @eventLogExtents;
		}
		
		public IEnumerable<EventLogExtent> FindEventLogExtents(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent>> callback)
		{
			IEnumerable<EventLogExtent> @eventLogExtents;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@EventLogExtents);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@eventLogExtents = queryable.Select(lo => new EventLogExtent()
												 {
													// map results to POCOs from L2S objects
													@MinCreationTimestamp = lo.@MinCreationTimestamp,
													@AvgDifferenceTimestamps = lo.@AvgDifferenceTimestamps,
													@MaxModificationTimestamp = lo.@MaxModificationTimestamp
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (EventLogExtent @eventLogExtent in @eventLogExtents)
				{
					this.OnSelectEventLogExtent(unitOfWork, @eventLogExtent);
					
					yield return @eventLogExtent; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveEventLogExtent(EventLogExtent @eventLogExtent)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveEventLogExtent(unitOfWork, @eventLogExtent);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveEventLogExtent(UnitOfWork.Current, @eventLogExtent);
			
			return retval;
		}
		
		public bool SaveEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@eventLogExtent == null)
				throw new ArgumentNullException("eventLogExtent");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @eventLogExtent.IsNew;

				if (wasNew)
				{
					this.OnPreInsertEventLogExtent(unitOfWork, @eventLogExtent);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent();

					wrapper.Disposable.EventLogExtents.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateEventLogExtent(unitOfWork, @eventLogExtent);
					
					query = wrapper.Disposable.EventLogExtents.SingleOrDefault(lo => lo.@MinCreationTimestamp == @eventLogExtent.@MinCreationTimestamp && lo.@AvgDifferenceTimestamps == @eventLogExtent.@AvgDifferenceTimestamps && lo.@MaxModificationTimestamp == @eventLogExtent.@MaxModificationTimestamp);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@MinCreationTimestamp = @eventLogExtent.@MinCreationTimestamp;
				query.@AvgDifferenceTimestamps = @eventLogExtent.@AvgDifferenceTimestamps;
				query.@MaxModificationTimestamp = @eventLogExtent.@MaxModificationTimestamp;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictEventLogExtent(unitOfWork, @eventLogExtent);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@eventLogExtent.@MinCreationTimestamp = query.@MinCreationTimestamp;
				@eventLogExtent.@AvgDifferenceTimestamps = query.@AvgDifferenceTimestamps;
				@eventLogExtent.@MaxModificationTimestamp = query.@MaxModificationTimestamp;
						
				if (wasNew)
				{
					this.OnPostInsertEventLogExtent(unitOfWork, @eventLogExtent);
				}
				else
				{
					this.OnPostUpdateEventLogExtent(unitOfWork, @eventLogExtent);
				}

				return true;
			}
		}
		
		public bool DiscardEventLogExtent(EventLogExtent @eventLogExtent)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardEventLogExtent(unitOfWork, @eventLogExtent);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardEventLogExtent(UnitOfWork.Current, @eventLogExtent);
			
			return retval;
		}
		
		public bool DiscardEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogExtent query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@eventLogExtent == null)
				throw new ArgumentNullException("eventLogExtent");
				
			if (@eventLogExtent.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteEventLogExtent(unitOfWork, @eventLogExtent);
				
				query = wrapper.Disposable.@EventLogExtents.SingleOrDefault(lo => lo.@MinCreationTimestamp == @eventLogExtent.@MinCreationTimestamp && lo.@AvgDifferenceTimestamps == @eventLogExtent.@AvgDifferenceTimestamps && lo.@MaxModificationTimestamp == @eventLogExtent.@MaxModificationTimestamp);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@EventLogExtents.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictEventLogExtent(unitOfWork, @eventLogExtent);
					
					return false;
				}

				this.OnPostDeleteEventLogExtent(unitOfWork, @eventLogExtent);
				
				@eventLogExtent.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnPostInsertEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnPreUpdateEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnPostUpdateEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnPreDeleteEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnPostDeleteEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnSaveConflictEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnDiscardConflictEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);
		
		partial void OnSelectEventLogExtent(IUnitOfWork unitOfWork, EventLogExtent @eventLogExtent);		
		public User LoadUser(Int32 @userId)
		{
			User @user;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@user = this.LoadUser(unitOfWork, @userId);

					unitOfWork.Complete();
				}
			}
			else
				@user = this.LoadUser(UnitOfWork.Current, @userId);
			
			return @user;
		}
		
		public User LoadUser(IUnitOfWork unitOfWork, Int32 @userId)
		{			
			User @user;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Users.SingleOrDefault(lo => lo.@UserId == @userId);

				if ((object)query == null)
					return null; // does not exist
				
				@user = new User()
								{
									// map result to POCO from L2S object
									@UserId = query.@UserId,
									@EmailAddress = query.@EmailAddress,
									@UserName = query.@UserName,
									@SaltValue = query.@SaltValue,
									@PasswordHash = query.@PasswordHash,
									@Question = query.@Question,
									@AnswerHash = query.@AnswerHash,
									@LastLoginSuccessTimestamp = query.@LastLoginSuccessTimestamp,
									@LastLoginFailureTimestamp = query.@LastLoginFailureTimestamp,
									@FailedLoginCount = query.@FailedLoginCount,
									@MustChangePassword = query.@MustChangePassword,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectUser(unitOfWork, @user);

				return @user;
			}
		}
		
		public IEnumerable<User> FindUsers(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User>> callback)
		{
			IEnumerable<User> @users;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@users = this.FindUsers(unitOfWork, callback);

					@users = @users.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@users = this.FindUsers(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @users;
		}
		
		public IEnumerable<User> FindUsers(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User>> callback)
		{
			IEnumerable<User> @users;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Users);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@users = queryable.Select(lo => new User()
												 {
													// map results to POCOs from L2S objects
													@UserId = lo.@UserId,
													@EmailAddress = lo.@EmailAddress,
													@UserName = lo.@UserName,
													@SaltValue = lo.@SaltValue,
													@PasswordHash = lo.@PasswordHash,
													@Question = lo.@Question,
													@AnswerHash = lo.@AnswerHash,
													@LastLoginSuccessTimestamp = lo.@LastLoginSuccessTimestamp,
													@LastLoginFailureTimestamp = lo.@LastLoginFailureTimestamp,
													@FailedLoginCount = lo.@FailedLoginCount,
													@MustChangePassword = lo.@MustChangePassword,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (User @user in @users)
				{
					this.OnSelectUser(unitOfWork, @user);
					
					yield return @user; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveUser(User @user)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveUser(unitOfWork, @user);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveUser(UnitOfWork.Current, @user);
			
			return retval;
		}
		
		public bool SaveUser(IUnitOfWork unitOfWork, User @user)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@user == null)
				throw new ArgumentNullException("user");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @user.IsNew;

				if (wasNew)
				{
					this.OnPreInsertUser(unitOfWork, @user);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User();

					wrapper.Disposable.Users.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateUser(unitOfWork, @user);
					
					query = wrapper.Disposable.Users.SingleOrDefault(lo => lo.@UserId == @user.@UserId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@UserId = @user.@UserId;
				query.@EmailAddress = @user.@EmailAddress;
				query.@UserName = @user.@UserName;
				query.@SaltValue = @user.@SaltValue;
				query.@PasswordHash = @user.@PasswordHash;
				query.@Question = @user.@Question;
				query.@AnswerHash = @user.@AnswerHash;
				query.@LastLoginSuccessTimestamp = @user.@LastLoginSuccessTimestamp;
				query.@LastLoginFailureTimestamp = @user.@LastLoginFailureTimestamp;
				query.@FailedLoginCount = @user.@FailedLoginCount;
				query.@MustChangePassword = @user.@MustChangePassword;
				query.@SortOrder = @user.@SortOrder;
				query.@CreationTimestamp = @user.@CreationTimestamp;
				query.@ModificationTimestamp = @user.@ModificationTimestamp;
				query.@CreationUserId = @user.@CreationUserId;
				query.@ModificationUserId = @user.@ModificationUserId;
				query.@LogicalDelete = @user.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictUser(unitOfWork, @user);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@user.@UserId = query.@UserId;
				@user.@EmailAddress = query.@EmailAddress;
				@user.@UserName = query.@UserName;
				@user.@SaltValue = query.@SaltValue;
				@user.@PasswordHash = query.@PasswordHash;
				@user.@Question = query.@Question;
				@user.@AnswerHash = query.@AnswerHash;
				@user.@LastLoginSuccessTimestamp = query.@LastLoginSuccessTimestamp;
				@user.@LastLoginFailureTimestamp = query.@LastLoginFailureTimestamp;
				@user.@FailedLoginCount = query.@FailedLoginCount;
				@user.@MustChangePassword = query.@MustChangePassword;
				@user.@SortOrder = query.@SortOrder;
				@user.@CreationTimestamp = query.@CreationTimestamp;
				@user.@ModificationTimestamp = query.@ModificationTimestamp;
				@user.@CreationUserId = query.@CreationUserId;
				@user.@ModificationUserId = query.@ModificationUserId;
				@user.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertUser(unitOfWork, @user);
				}
				else
				{
					this.OnPostUpdateUser(unitOfWork, @user);
				}

				return true;
			}
		}
		
		public bool DiscardUser(User @user)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardUser(unitOfWork, @user);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardUser(UnitOfWork.Current, @user);
			
			return retval;
		}
		
		public bool DiscardUser(IUnitOfWork unitOfWork, User @user)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.User query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@user == null)
				throw new ArgumentNullException("user");
				
			if (@user.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteUser(unitOfWork, @user);
				
				query = wrapper.Disposable.@Users.SingleOrDefault(lo => lo.@UserId == @user.@UserId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Users.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictUser(unitOfWork, @user);
					
					return false;
				}

				this.OnPostDeleteUser(unitOfWork, @user);
				
				@user.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnPostInsertUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnPreUpdateUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnPostUpdateUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnPreDeleteUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnPostDeleteUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnSaveConflictUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnDiscardConflictUser(IUnitOfWork unitOfWork, User @user);
		
		partial void OnSelectUser(IUnitOfWork unitOfWork, User @user);		

		public PropertyBag LoadPropertyBag(Int32 @propertyBagId)
		{
			PropertyBag @propertyBag;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@propertyBag = this.LoadPropertyBag(unitOfWork, @propertyBagId);

					unitOfWork.Complete();
				}
			}
			else
				@propertyBag = this.LoadPropertyBag(UnitOfWork.Current, @propertyBagId);
			
			return @propertyBag;
		}
		
		public PropertyBag LoadPropertyBag(IUnitOfWork unitOfWork, Int32 @propertyBagId)
		{			
			PropertyBag @propertyBag;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.PropertyBags.SingleOrDefault(lo => lo.@PropertyBagId == @propertyBagId);

				if ((object)query == null)
					return null; // does not exist
				
				@propertyBag = new PropertyBag()
								{
									// map result to POCO from L2S object
									@PropertyBagId = query.@PropertyBagId,
									@PropertyKey = query.@PropertyKey,
									@PropertyType = query.@PropertyType,
									@PropertyValue = query.@PropertyValue,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectPropertyBag(unitOfWork, @propertyBag);

				return @propertyBag;
			}
		}
		
		public IEnumerable<PropertyBag> FindPropertyBags(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag>> callback)
		{
			IEnumerable<PropertyBag> @propertyBags;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@propertyBags = this.FindPropertyBags(unitOfWork, callback);

					@propertyBags = @propertyBags.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@propertyBags = this.FindPropertyBags(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @propertyBags;
		}
		
		public IEnumerable<PropertyBag> FindPropertyBags(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag>> callback)
		{
			IEnumerable<PropertyBag> @propertyBags;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@PropertyBags);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@propertyBags = queryable.Select(lo => new PropertyBag()
												 {
													// map results to POCOs from L2S objects
													@PropertyBagId = lo.@PropertyBagId,
													@PropertyKey = lo.@PropertyKey,
													@PropertyType = lo.@PropertyType,
													@PropertyValue = lo.@PropertyValue,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (PropertyBag @propertyBag in @propertyBags)
				{
					this.OnSelectPropertyBag(unitOfWork, @propertyBag);
					
					yield return @propertyBag; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SavePropertyBag(PropertyBag @propertyBag)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SavePropertyBag(unitOfWork, @propertyBag);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SavePropertyBag(UnitOfWork.Current, @propertyBag);
			
			return retval;
		}
		
		public bool SavePropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@propertyBag == null)
				throw new ArgumentNullException("propertyBag");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @propertyBag.IsNew;

				if (wasNew)
				{
					this.OnPreInsertPropertyBag(unitOfWork, @propertyBag);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag();

					wrapper.Disposable.PropertyBags.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdatePropertyBag(unitOfWork, @propertyBag);
					
					query = wrapper.Disposable.PropertyBags.SingleOrDefault(lo => lo.@PropertyBagId == @propertyBag.@PropertyBagId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@PropertyBagId = @propertyBag.@PropertyBagId;
				query.@PropertyKey = @propertyBag.@PropertyKey;
				query.@PropertyType = @propertyBag.@PropertyType;
				query.@PropertyValue = @propertyBag.@PropertyValue;
				query.@SortOrder = @propertyBag.@SortOrder;
				query.@CreationTimestamp = @propertyBag.@CreationTimestamp;
				query.@ModificationTimestamp = @propertyBag.@ModificationTimestamp;
				query.@CreationUserId = @propertyBag.@CreationUserId;
				query.@ModificationUserId = @propertyBag.@ModificationUserId;
				query.@LogicalDelete = @propertyBag.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictPropertyBag(unitOfWork, @propertyBag);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@propertyBag.@PropertyBagId = query.@PropertyBagId;
				@propertyBag.@PropertyKey = query.@PropertyKey;
				@propertyBag.@PropertyType = query.@PropertyType;
				@propertyBag.@PropertyValue = query.@PropertyValue;
				@propertyBag.@SortOrder = query.@SortOrder;
				@propertyBag.@CreationTimestamp = query.@CreationTimestamp;
				@propertyBag.@ModificationTimestamp = query.@ModificationTimestamp;
				@propertyBag.@CreationUserId = query.@CreationUserId;
				@propertyBag.@ModificationUserId = query.@ModificationUserId;
				@propertyBag.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertPropertyBag(unitOfWork, @propertyBag);
				}
				else
				{
					this.OnPostUpdatePropertyBag(unitOfWork, @propertyBag);
				}

				return true;
			}
		}
		
		public bool DiscardPropertyBag(PropertyBag @propertyBag)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardPropertyBag(unitOfWork, @propertyBag);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardPropertyBag(UnitOfWork.Current, @propertyBag);
			
			return retval;
		}
		
		public bool DiscardPropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBag query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@propertyBag == null)
				throw new ArgumentNullException("propertyBag");
				
			if (@propertyBag.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeletePropertyBag(unitOfWork, @propertyBag);
				
				query = wrapper.Disposable.@PropertyBags.SingleOrDefault(lo => lo.@PropertyBagId == @propertyBag.@PropertyBagId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@PropertyBags.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictPropertyBag(unitOfWork, @propertyBag);
					
					return false;
				}

				this.OnPostDeletePropertyBag(unitOfWork, @propertyBag);
				
				@propertyBag.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertPropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnPostInsertPropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnPreUpdatePropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnPostUpdatePropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnPreDeletePropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnPostDeletePropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnSaveConflictPropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnDiscardConflictPropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);
		
		partial void OnSelectPropertyBag(IUnitOfWork unitOfWork, PropertyBag @propertyBag);		

		public EventLog LoadEventLog(Int32 @eventLogId)
		{
			EventLog @eventLog;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@eventLog = this.LoadEventLog(unitOfWork, @eventLogId);

					unitOfWork.Complete();
				}
			}
			else
				@eventLog = this.LoadEventLog(UnitOfWork.Current, @eventLogId);
			
			return @eventLog;
		}
		
		public EventLog LoadEventLog(IUnitOfWork unitOfWork, Int32 @eventLogId)
		{			
			EventLog @eventLog;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.EventLogs.SingleOrDefault(lo => lo.@EventLogId == @eventLogId);

				if ((object)query == null)
					return null; // does not exist
				
				@eventLog = new EventLog()
								{
									// map result to POCO from L2S object
									@EventLogId = query.@EventLogId,
									@EventText = query.@EventText,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectEventLog(unitOfWork, @eventLog);

				return @eventLog;
			}
		}
		
		public IEnumerable<EventLog> FindEventLogs(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog>> callback)
		{
			IEnumerable<EventLog> @eventLogs;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@eventLogs = this.FindEventLogs(unitOfWork, callback);

					@eventLogs = @eventLogs.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@eventLogs = this.FindEventLogs(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @eventLogs;
		}
		
		public IEnumerable<EventLog> FindEventLogs(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog>> callback)
		{
			IEnumerable<EventLog> @eventLogs;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@EventLogs);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@eventLogs = queryable.Select(lo => new EventLog()
												 {
													// map results to POCOs from L2S objects
													@EventLogId = lo.@EventLogId,
													@EventText = lo.@EventText,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (EventLog @eventLog in @eventLogs)
				{
					this.OnSelectEventLog(unitOfWork, @eventLog);
					
					yield return @eventLog; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveEventLog(EventLog @eventLog)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveEventLog(unitOfWork, @eventLog);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveEventLog(UnitOfWork.Current, @eventLog);
			
			return retval;
		}
		
		public bool SaveEventLog(IUnitOfWork unitOfWork, EventLog @eventLog)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@eventLog == null)
				throw new ArgumentNullException("eventLog");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @eventLog.IsNew;

				if (wasNew)
				{
					this.OnPreInsertEventLog(unitOfWork, @eventLog);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog();

					wrapper.Disposable.EventLogs.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateEventLog(unitOfWork, @eventLog);
					
					query = wrapper.Disposable.EventLogs.SingleOrDefault(lo => lo.@EventLogId == @eventLog.@EventLogId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@EventLogId = @eventLog.@EventLogId;
				query.@EventText = @eventLog.@EventText;
				query.@SortOrder = @eventLog.@SortOrder;
				query.@CreationTimestamp = @eventLog.@CreationTimestamp;
				query.@ModificationTimestamp = @eventLog.@ModificationTimestamp;
				query.@CreationUserId = @eventLog.@CreationUserId;
				query.@ModificationUserId = @eventLog.@ModificationUserId;
				query.@LogicalDelete = @eventLog.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictEventLog(unitOfWork, @eventLog);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@eventLog.@EventLogId = query.@EventLogId;
				@eventLog.@EventText = query.@EventText;
				@eventLog.@SortOrder = query.@SortOrder;
				@eventLog.@CreationTimestamp = query.@CreationTimestamp;
				@eventLog.@ModificationTimestamp = query.@ModificationTimestamp;
				@eventLog.@CreationUserId = query.@CreationUserId;
				@eventLog.@ModificationUserId = query.@ModificationUserId;
				@eventLog.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertEventLog(unitOfWork, @eventLog);
				}
				else
				{
					this.OnPostUpdateEventLog(unitOfWork, @eventLog);
				}

				return true;
			}
		}
		
		public bool DiscardEventLog(EventLog @eventLog)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardEventLog(unitOfWork, @eventLog);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardEventLog(UnitOfWork.Current, @eventLog);
			
			return retval;
		}
		
		public bool DiscardEventLog(IUnitOfWork unitOfWork, EventLog @eventLog)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLog query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@eventLog == null)
				throw new ArgumentNullException("eventLog");
				
			if (@eventLog.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteEventLog(unitOfWork, @eventLog);
				
				query = wrapper.Disposable.@EventLogs.SingleOrDefault(lo => lo.@EventLogId == @eventLog.@EventLogId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@EventLogs.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictEventLog(unitOfWork, @eventLog);
					
					return false;
				}

				this.OnPostDeleteEventLog(unitOfWork, @eventLog);
				
				@eventLog.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnPostInsertEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnPreUpdateEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnPostUpdateEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnPreDeleteEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnPostDeleteEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnSaveConflictEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnDiscardConflictEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);
		
		partial void OnSelectEventLog(IUnitOfWork unitOfWork, EventLog @eventLog);		

		public EmailMessage LoadEmailMessage(Int32 @emailMessageId)
		{
			EmailMessage @emailMessage;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailMessage = this.LoadEmailMessage(unitOfWork, @emailMessageId);

					unitOfWork.Complete();
				}
			}
			else
				@emailMessage = this.LoadEmailMessage(UnitOfWork.Current, @emailMessageId);
			
			return @emailMessage;
		}
		
		public EmailMessage LoadEmailMessage(IUnitOfWork unitOfWork, Int32 @emailMessageId)
		{			
			EmailMessage @emailMessage;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.EmailMessages.SingleOrDefault(lo => lo.@EmailMessageId == @emailMessageId);

				if ((object)query == null)
					return null; // does not exist
				
				@emailMessage = new EmailMessage()
								{
									// map result to POCO from L2S object
									@EmailMessageId = query.@EmailMessageId,
									@From = query.@From,
									@Sender = query.@Sender,
									@ReplyTo = query.@ReplyTo,
									@To = query.@To,
									@CarbonCopy = query.@CarbonCopy,
									@BlindCarbonCopy = query.@BlindCarbonCopy,
									@Subject = query.@Subject,
									@IsBodyHtml = query.@IsBodyHtml,
									@Body = query.@Body,
									@Processed = query.@Processed,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectEmailMessage(unitOfWork, @emailMessage);

				return @emailMessage;
			}
		}
		
		public IEnumerable<EmailMessage> FindEmailMessages(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage>> callback)
		{
			IEnumerable<EmailMessage> @emailMessages;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailMessages = this.FindEmailMessages(unitOfWork, callback);

					@emailMessages = @emailMessages.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@emailMessages = this.FindEmailMessages(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @emailMessages;
		}
		
		public IEnumerable<EmailMessage> FindEmailMessages(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage>> callback)
		{
			IEnumerable<EmailMessage> @emailMessages;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@EmailMessages);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@emailMessages = queryable.Select(lo => new EmailMessage()
												 {
													// map results to POCOs from L2S objects
													@EmailMessageId = lo.@EmailMessageId,
													@From = lo.@From,
													@Sender = lo.@Sender,
													@ReplyTo = lo.@ReplyTo,
													@To = lo.@To,
													@CarbonCopy = lo.@CarbonCopy,
													@BlindCarbonCopy = lo.@BlindCarbonCopy,
													@Subject = lo.@Subject,
													@IsBodyHtml = lo.@IsBodyHtml,
													@Body = lo.@Body,
													@Processed = lo.@Processed,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (EmailMessage @emailMessage in @emailMessages)
				{
					this.OnSelectEmailMessage(unitOfWork, @emailMessage);
					
					yield return @emailMessage; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveEmailMessage(EmailMessage @emailMessage)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveEmailMessage(unitOfWork, @emailMessage);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveEmailMessage(UnitOfWork.Current, @emailMessage);
			
			return retval;
		}
		
		public bool SaveEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailMessage == null)
				throw new ArgumentNullException("emailMessage");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @emailMessage.IsNew;

				if (wasNew)
				{
					this.OnPreInsertEmailMessage(unitOfWork, @emailMessage);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage();

					wrapper.Disposable.EmailMessages.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateEmailMessage(unitOfWork, @emailMessage);
					
					query = wrapper.Disposable.EmailMessages.SingleOrDefault(lo => lo.@EmailMessageId == @emailMessage.@EmailMessageId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@EmailMessageId = @emailMessage.@EmailMessageId;
				query.@From = @emailMessage.@From;
				query.@Sender = @emailMessage.@Sender;
				query.@ReplyTo = @emailMessage.@ReplyTo;
				query.@To = @emailMessage.@To;
				query.@CarbonCopy = @emailMessage.@CarbonCopy;
				query.@BlindCarbonCopy = @emailMessage.@BlindCarbonCopy;
				query.@Subject = @emailMessage.@Subject;
				query.@IsBodyHtml = @emailMessage.@IsBodyHtml;
				query.@Body = @emailMessage.@Body;
				query.@Processed = @emailMessage.@Processed;
				query.@SortOrder = @emailMessage.@SortOrder;
				query.@CreationTimestamp = @emailMessage.@CreationTimestamp;
				query.@ModificationTimestamp = @emailMessage.@ModificationTimestamp;
				query.@CreationUserId = @emailMessage.@CreationUserId;
				query.@ModificationUserId = @emailMessage.@ModificationUserId;
				query.@LogicalDelete = @emailMessage.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictEmailMessage(unitOfWork, @emailMessage);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@emailMessage.@EmailMessageId = query.@EmailMessageId;
				@emailMessage.@From = query.@From;
				@emailMessage.@Sender = query.@Sender;
				@emailMessage.@ReplyTo = query.@ReplyTo;
				@emailMessage.@To = query.@To;
				@emailMessage.@CarbonCopy = query.@CarbonCopy;
				@emailMessage.@BlindCarbonCopy = query.@BlindCarbonCopy;
				@emailMessage.@Subject = query.@Subject;
				@emailMessage.@IsBodyHtml = query.@IsBodyHtml;
				@emailMessage.@Body = query.@Body;
				@emailMessage.@Processed = query.@Processed;
				@emailMessage.@SortOrder = query.@SortOrder;
				@emailMessage.@CreationTimestamp = query.@CreationTimestamp;
				@emailMessage.@ModificationTimestamp = query.@ModificationTimestamp;
				@emailMessage.@CreationUserId = query.@CreationUserId;
				@emailMessage.@ModificationUserId = query.@ModificationUserId;
				@emailMessage.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertEmailMessage(unitOfWork, @emailMessage);
				}
				else
				{
					this.OnPostUpdateEmailMessage(unitOfWork, @emailMessage);
				}

				return true;
			}
		}
		
		public bool DiscardEmailMessage(EmailMessage @emailMessage)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardEmailMessage(unitOfWork, @emailMessage);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardEmailMessage(UnitOfWork.Current, @emailMessage);
			
			return retval;
		}
		
		public bool DiscardEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessage query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailMessage == null)
				throw new ArgumentNullException("emailMessage");
				
			if (@emailMessage.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteEmailMessage(unitOfWork, @emailMessage);
				
				query = wrapper.Disposable.@EmailMessages.SingleOrDefault(lo => lo.@EmailMessageId == @emailMessage.@EmailMessageId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@EmailMessages.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictEmailMessage(unitOfWork, @emailMessage);
					
					return false;
				}

				this.OnPostDeleteEmailMessage(unitOfWork, @emailMessage);
				
				@emailMessage.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnPostInsertEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnPreUpdateEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnPostUpdateEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnPreDeleteEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnPostDeleteEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnSaveConflictEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnDiscardConflictEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);
		
		partial void OnSelectEmailMessage(IUnitOfWork unitOfWork, EmailMessage @emailMessage);		

		public EmailAttachment LoadEmailAttachment(Int32 @emailMessageId)
		{
			EmailAttachment @emailAttachment;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailAttachment = this.LoadEmailAttachment(unitOfWork, @emailMessageId);

					unitOfWork.Complete();
				}
			}
			else
				@emailAttachment = this.LoadEmailAttachment(UnitOfWork.Current, @emailMessageId);
			
			return @emailAttachment;
		}
		
		public EmailAttachment LoadEmailAttachment(IUnitOfWork unitOfWork, Int32 @emailMessageId)
		{			
			EmailAttachment @emailAttachment;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.EmailAttachments.SingleOrDefault(lo => lo.@EmailMessageId == @emailMessageId);

				if ((object)query == null)
					return null; // does not exist
				
				@emailAttachment = new EmailAttachment()
								{
									// map result to POCO from L2S object
									@EmailAttachmentId = query.@EmailAttachmentId,
									@EmailMessageId = query.@EmailMessageId,
									@FileName = query.@FileName,
									@FileSize = query.@FileSize,
									@MimeType = query.@MimeType,
									@AttachmentBits = (object)query.AttachmentBits != null ? query.@AttachmentBits.ToArray() : null,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectEmailAttachment(unitOfWork, @emailAttachment);

				return @emailAttachment;
			}
		}
		
		public IEnumerable<EmailAttachment> FindEmailAttachments(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment>> callback)
		{
			IEnumerable<EmailAttachment> @emailAttachments;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailAttachments = this.FindEmailAttachments(unitOfWork, callback);

					@emailAttachments = @emailAttachments.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@emailAttachments = this.FindEmailAttachments(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @emailAttachments;
		}
		
		public IEnumerable<EmailAttachment> FindEmailAttachments(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment>> callback)
		{
			IEnumerable<EmailAttachment> @emailAttachments;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@EmailAttachments);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@emailAttachments = queryable.Select(lo => new EmailAttachment()
												 {
													// map results to POCOs from L2S objects
													@EmailAttachmentId = lo.@EmailAttachmentId,
													@EmailMessageId = lo.@EmailMessageId,
													@FileName = lo.@FileName,
													@FileSize = lo.@FileSize,
													@MimeType = lo.@MimeType,
													@AttachmentBits = (object)lo.AttachmentBits != null ? lo.@AttachmentBits.ToArray() : null,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (EmailAttachment @emailAttachment in @emailAttachments)
				{
					this.OnSelectEmailAttachment(unitOfWork, @emailAttachment);
					
					yield return @emailAttachment; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveEmailAttachment(EmailAttachment @emailAttachment)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveEmailAttachment(unitOfWork, @emailAttachment);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveEmailAttachment(UnitOfWork.Current, @emailAttachment);
			
			return retval;
		}
		
		public bool SaveEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailAttachment == null)
				throw new ArgumentNullException("emailAttachment");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @emailAttachment.IsNew;

				if (wasNew)
				{
					this.OnPreInsertEmailAttachment(unitOfWork, @emailAttachment);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment();

					wrapper.Disposable.EmailAttachments.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateEmailAttachment(unitOfWork, @emailAttachment);
					
					query = wrapper.Disposable.EmailAttachments.SingleOrDefault(lo => lo.@EmailMessageId == @emailAttachment.@EmailMessageId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@EmailAttachmentId = @emailAttachment.@EmailAttachmentId;
				query.@EmailMessageId = @emailAttachment.@EmailMessageId;
				query.@FileName = @emailAttachment.@FileName;
				query.@FileSize = @emailAttachment.@FileSize;
				query.@MimeType = @emailAttachment.@MimeType;
				if ((object)@emailAttachment.@AttachmentBits != null) // prevent implicit conversion of null -> exception
					query.@AttachmentBits = @emailAttachment.@AttachmentBits;
				query.@SortOrder = @emailAttachment.@SortOrder;
				query.@CreationTimestamp = @emailAttachment.@CreationTimestamp;
				query.@ModificationTimestamp = @emailAttachment.@ModificationTimestamp;
				query.@CreationUserId = @emailAttachment.@CreationUserId;
				query.@ModificationUserId = @emailAttachment.@ModificationUserId;
				query.@LogicalDelete = @emailAttachment.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictEmailAttachment(unitOfWork, @emailAttachment);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@emailAttachment.@EmailAttachmentId = query.@EmailAttachmentId;
				@emailAttachment.@EmailMessageId = query.@EmailMessageId;
				@emailAttachment.@FileName = query.@FileName;
				@emailAttachment.@FileSize = query.@FileSize;
				@emailAttachment.@MimeType = query.@MimeType;
				@emailAttachment.@AttachmentBits = (object)query.@AttachmentBits != null ? query.@AttachmentBits.ToArray() : null;
				@emailAttachment.@SortOrder = query.@SortOrder;
				@emailAttachment.@CreationTimestamp = query.@CreationTimestamp;
				@emailAttachment.@ModificationTimestamp = query.@ModificationTimestamp;
				@emailAttachment.@CreationUserId = query.@CreationUserId;
				@emailAttachment.@ModificationUserId = query.@ModificationUserId;
				@emailAttachment.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertEmailAttachment(unitOfWork, @emailAttachment);
				}
				else
				{
					this.OnPostUpdateEmailAttachment(unitOfWork, @emailAttachment);
				}

				return true;
			}
		}
		
		public bool DiscardEmailAttachment(EmailAttachment @emailAttachment)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardEmailAttachment(unitOfWork, @emailAttachment);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardEmailAttachment(UnitOfWork.Current, @emailAttachment);
			
			return retval;
		}
		
		public bool DiscardEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachment query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailAttachment == null)
				throw new ArgumentNullException("emailAttachment");
				
			if (@emailAttachment.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteEmailAttachment(unitOfWork, @emailAttachment);
				
				query = wrapper.Disposable.@EmailAttachments.SingleOrDefault(lo => lo.@EmailMessageId == @emailAttachment.@EmailMessageId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@EmailAttachments.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictEmailAttachment(unitOfWork, @emailAttachment);
					
					return false;
				}

				this.OnPostDeleteEmailAttachment(unitOfWork, @emailAttachment);
				
				@emailAttachment.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnPostInsertEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnPreUpdateEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnPostUpdateEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnPreDeleteEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnPostDeleteEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnSaveConflictEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnDiscardConflictEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);
		
		partial void OnSelectEmailAttachment(IUnitOfWork unitOfWork, EmailAttachment @emailAttachment);		
		public UserHistory LoadUserHistory(Int64 @userHistoryId)
		{
			UserHistory @userHistory;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@userHistory = this.LoadUserHistory(unitOfWork, @userHistoryId);

					unitOfWork.Complete();
				}
			}
			else
				@userHistory = this.LoadUserHistory(UnitOfWork.Current, @userHistoryId);
			
			return @userHistory;
		}
		
		public UserHistory LoadUserHistory(IUnitOfWork unitOfWork, Int64 @userHistoryId)
		{			
			UserHistory @userHistory;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.UserHistories.SingleOrDefault(lo => lo.@UserHistoryId == @userHistoryId);

				if ((object)query == null)
					return null; // does not exist
				
				@userHistory = new UserHistory()
								{
									// map result to POCO from L2S object
									@UserHistoryId = query.@UserHistoryId,
									@UserHistoryTs = query.@UserHistoryTs,
									@UserId = query.@UserId,
									@EmailAddress = query.@EmailAddress,
									@UserName = query.@UserName,
									@SaltValue = query.@SaltValue,
									@PasswordHash = query.@PasswordHash,
									@Question = query.@Question,
									@AnswerHash = query.@AnswerHash,
									@LastLoginSuccessTimestamp = query.@LastLoginSuccessTimestamp,
									@LastLoginFailureTimestamp = query.@LastLoginFailureTimestamp,
									@FailedLoginCount = query.@FailedLoginCount,
									@MustChangePassword = query.@MustChangePassword,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectUserHistory(unitOfWork, @userHistory);

				return @userHistory;
			}
		}
		
		public IEnumerable<UserHistory> FindUserHistories(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory>> callback)
		{
			IEnumerable<UserHistory> @userHistories;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@userHistories = this.FindUserHistories(unitOfWork, callback);

					@userHistories = @userHistories.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@userHistories = this.FindUserHistories(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @userHistories;
		}
		
		public IEnumerable<UserHistory> FindUserHistories(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory>> callback)
		{
			IEnumerable<UserHistory> @userHistories;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@UserHistories);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@userHistories = queryable.Select(lo => new UserHistory()
												 {
													// map results to POCOs from L2S objects
													@UserHistoryId = lo.@UserHistoryId,
													@UserHistoryTs = lo.@UserHistoryTs,
													@UserId = lo.@UserId,
													@EmailAddress = lo.@EmailAddress,
													@UserName = lo.@UserName,
													@SaltValue = lo.@SaltValue,
													@PasswordHash = lo.@PasswordHash,
													@Question = lo.@Question,
													@AnswerHash = lo.@AnswerHash,
													@LastLoginSuccessTimestamp = lo.@LastLoginSuccessTimestamp,
													@LastLoginFailureTimestamp = lo.@LastLoginFailureTimestamp,
													@FailedLoginCount = lo.@FailedLoginCount,
													@MustChangePassword = lo.@MustChangePassword,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (UserHistory @userHistory in @userHistories)
				{
					this.OnSelectUserHistory(unitOfWork, @userHistory);
					
					yield return @userHistory; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveUserHistory(UserHistory @userHistory)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveUserHistory(unitOfWork, @userHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveUserHistory(UnitOfWork.Current, @userHistory);
			
			return retval;
		}
		
		public bool SaveUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@userHistory == null)
				throw new ArgumentNullException("userHistory");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @userHistory.IsNew;

				if (wasNew)
				{
					this.OnPreInsertUserHistory(unitOfWork, @userHistory);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory();

					wrapper.Disposable.UserHistories.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateUserHistory(unitOfWork, @userHistory);
					
					query = wrapper.Disposable.UserHistories.SingleOrDefault(lo => lo.@UserHistoryId == @userHistory.@UserHistoryId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@UserHistoryId = @userHistory.@UserHistoryId;
				query.@UserHistoryTs = @userHistory.@UserHistoryTs;
				query.@UserId = @userHistory.@UserId;
				query.@EmailAddress = @userHistory.@EmailAddress;
				query.@UserName = @userHistory.@UserName;
				query.@SaltValue = @userHistory.@SaltValue;
				query.@PasswordHash = @userHistory.@PasswordHash;
				query.@Question = @userHistory.@Question;
				query.@AnswerHash = @userHistory.@AnswerHash;
				query.@LastLoginSuccessTimestamp = @userHistory.@LastLoginSuccessTimestamp;
				query.@LastLoginFailureTimestamp = @userHistory.@LastLoginFailureTimestamp;
				query.@FailedLoginCount = @userHistory.@FailedLoginCount;
				query.@MustChangePassword = @userHistory.@MustChangePassword;
				query.@SortOrder = @userHistory.@SortOrder;
				query.@CreationTimestamp = @userHistory.@CreationTimestamp;
				query.@ModificationTimestamp = @userHistory.@ModificationTimestamp;
				query.@CreationUserId = @userHistory.@CreationUserId;
				query.@ModificationUserId = @userHistory.@ModificationUserId;
				query.@LogicalDelete = @userHistory.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictUserHistory(unitOfWork, @userHistory);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@userHistory.@UserHistoryId = query.@UserHistoryId;
				@userHistory.@UserHistoryTs = query.@UserHistoryTs;
				@userHistory.@UserId = query.@UserId;
				@userHistory.@EmailAddress = query.@EmailAddress;
				@userHistory.@UserName = query.@UserName;
				@userHistory.@SaltValue = query.@SaltValue;
				@userHistory.@PasswordHash = query.@PasswordHash;
				@userHistory.@Question = query.@Question;
				@userHistory.@AnswerHash = query.@AnswerHash;
				@userHistory.@LastLoginSuccessTimestamp = query.@LastLoginSuccessTimestamp;
				@userHistory.@LastLoginFailureTimestamp = query.@LastLoginFailureTimestamp;
				@userHistory.@FailedLoginCount = query.@FailedLoginCount;
				@userHistory.@MustChangePassword = query.@MustChangePassword;
				@userHistory.@SortOrder = query.@SortOrder;
				@userHistory.@CreationTimestamp = query.@CreationTimestamp;
				@userHistory.@ModificationTimestamp = query.@ModificationTimestamp;
				@userHistory.@CreationUserId = query.@CreationUserId;
				@userHistory.@ModificationUserId = query.@ModificationUserId;
				@userHistory.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertUserHistory(unitOfWork, @userHistory);
				}
				else
				{
					this.OnPostUpdateUserHistory(unitOfWork, @userHistory);
				}

				return true;
			}
		}
		
		public bool DiscardUserHistory(UserHistory @userHistory)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardUserHistory(unitOfWork, @userHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardUserHistory(UnitOfWork.Current, @userHistory);
			
			return retval;
		}
		
		public bool DiscardUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.UserHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@userHistory == null)
				throw new ArgumentNullException("userHistory");
				
			if (@userHistory.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteUserHistory(unitOfWork, @userHistory);
				
				query = wrapper.Disposable.@UserHistories.SingleOrDefault(lo => lo.@UserHistoryId == @userHistory.@UserHistoryId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@UserHistories.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictUserHistory(unitOfWork, @userHistory);
					
					return false;
				}

				this.OnPostDeleteUserHistory(unitOfWork, @userHistory);
				
				@userHistory.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnPostInsertUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnPreUpdateUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnPostUpdateUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnPreDeleteUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnPostDeleteUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnSaveConflictUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnDiscardConflictUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);
		
		partial void OnSelectUserHistory(IUnitOfWork unitOfWork, UserHistory @userHistory);		

		public PropertyBagHistory LoadPropertyBagHistory(Int64 @propertyBagHistoryId)
		{
			PropertyBagHistory @propertyBagHistory;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@propertyBagHistory = this.LoadPropertyBagHistory(unitOfWork, @propertyBagHistoryId);

					unitOfWork.Complete();
				}
			}
			else
				@propertyBagHistory = this.LoadPropertyBagHistory(UnitOfWork.Current, @propertyBagHistoryId);
			
			return @propertyBagHistory;
		}
		
		public PropertyBagHistory LoadPropertyBagHistory(IUnitOfWork unitOfWork, Int64 @propertyBagHistoryId)
		{			
			PropertyBagHistory @propertyBagHistory;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.PropertyBagHistories.SingleOrDefault(lo => lo.@PropertyBagHistoryId == @propertyBagHistoryId);

				if ((object)query == null)
					return null; // does not exist
				
				@propertyBagHistory = new PropertyBagHistory()
								{
									// map result to POCO from L2S object
									@PropertyBagHistoryId = query.@PropertyBagHistoryId,
									@PropertyBagHistoryTs = query.@PropertyBagHistoryTs,
									@PropertyBagId = query.@PropertyBagId,
									@PropertyKey = query.@PropertyKey,
									@PropertyType = query.@PropertyType,
									@PropertyValue = query.@PropertyValue,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectPropertyBagHistory(unitOfWork, @propertyBagHistory);

				return @propertyBagHistory;
			}
		}
		
		public IEnumerable<PropertyBagHistory> FindPropertyBagHistories(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory>> callback)
		{
			IEnumerable<PropertyBagHistory> @propertyBagHistories;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@propertyBagHistories = this.FindPropertyBagHistories(unitOfWork, callback);

					@propertyBagHistories = @propertyBagHistories.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@propertyBagHistories = this.FindPropertyBagHistories(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @propertyBagHistories;
		}
		
		public IEnumerable<PropertyBagHistory> FindPropertyBagHistories(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory>> callback)
		{
			IEnumerable<PropertyBagHistory> @propertyBagHistories;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@PropertyBagHistories);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@propertyBagHistories = queryable.Select(lo => new PropertyBagHistory()
												 {
													// map results to POCOs from L2S objects
													@PropertyBagHistoryId = lo.@PropertyBagHistoryId,
													@PropertyBagHistoryTs = lo.@PropertyBagHistoryTs,
													@PropertyBagId = lo.@PropertyBagId,
													@PropertyKey = lo.@PropertyKey,
													@PropertyType = lo.@PropertyType,
													@PropertyValue = lo.@PropertyValue,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (PropertyBagHistory @propertyBagHistory in @propertyBagHistories)
				{
					this.OnSelectPropertyBagHistory(unitOfWork, @propertyBagHistory);
					
					yield return @propertyBagHistory; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SavePropertyBagHistory(PropertyBagHistory @propertyBagHistory)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SavePropertyBagHistory(unitOfWork, @propertyBagHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SavePropertyBagHistory(UnitOfWork.Current, @propertyBagHistory);
			
			return retval;
		}
		
		public bool SavePropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@propertyBagHistory == null)
				throw new ArgumentNullException("propertyBagHistory");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @propertyBagHistory.IsNew;

				if (wasNew)
				{
					this.OnPreInsertPropertyBagHistory(unitOfWork, @propertyBagHistory);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory();

					wrapper.Disposable.PropertyBagHistories.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdatePropertyBagHistory(unitOfWork, @propertyBagHistory);
					
					query = wrapper.Disposable.PropertyBagHistories.SingleOrDefault(lo => lo.@PropertyBagHistoryId == @propertyBagHistory.@PropertyBagHistoryId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@PropertyBagHistoryId = @propertyBagHistory.@PropertyBagHistoryId;
				query.@PropertyBagHistoryTs = @propertyBagHistory.@PropertyBagHistoryTs;
				query.@PropertyBagId = @propertyBagHistory.@PropertyBagId;
				query.@PropertyKey = @propertyBagHistory.@PropertyKey;
				query.@PropertyType = @propertyBagHistory.@PropertyType;
				query.@PropertyValue = @propertyBagHistory.@PropertyValue;
				query.@SortOrder = @propertyBagHistory.@SortOrder;
				query.@CreationTimestamp = @propertyBagHistory.@CreationTimestamp;
				query.@ModificationTimestamp = @propertyBagHistory.@ModificationTimestamp;
				query.@CreationUserId = @propertyBagHistory.@CreationUserId;
				query.@ModificationUserId = @propertyBagHistory.@ModificationUserId;
				query.@LogicalDelete = @propertyBagHistory.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictPropertyBagHistory(unitOfWork, @propertyBagHistory);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@propertyBagHistory.@PropertyBagHistoryId = query.@PropertyBagHistoryId;
				@propertyBagHistory.@PropertyBagHistoryTs = query.@PropertyBagHistoryTs;
				@propertyBagHistory.@PropertyBagId = query.@PropertyBagId;
				@propertyBagHistory.@PropertyKey = query.@PropertyKey;
				@propertyBagHistory.@PropertyType = query.@PropertyType;
				@propertyBagHistory.@PropertyValue = query.@PropertyValue;
				@propertyBagHistory.@SortOrder = query.@SortOrder;
				@propertyBagHistory.@CreationTimestamp = query.@CreationTimestamp;
				@propertyBagHistory.@ModificationTimestamp = query.@ModificationTimestamp;
				@propertyBagHistory.@CreationUserId = query.@CreationUserId;
				@propertyBagHistory.@ModificationUserId = query.@ModificationUserId;
				@propertyBagHistory.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertPropertyBagHistory(unitOfWork, @propertyBagHistory);
				}
				else
				{
					this.OnPostUpdatePropertyBagHistory(unitOfWork, @propertyBagHistory);
				}

				return true;
			}
		}
		
		public bool DiscardPropertyBagHistory(PropertyBagHistory @propertyBagHistory)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardPropertyBagHistory(unitOfWork, @propertyBagHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardPropertyBagHistory(UnitOfWork.Current, @propertyBagHistory);
			
			return retval;
		}
		
		public bool DiscardPropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.PropertyBagHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@propertyBagHistory == null)
				throw new ArgumentNullException("propertyBagHistory");
				
			if (@propertyBagHistory.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeletePropertyBagHistory(unitOfWork, @propertyBagHistory);
				
				query = wrapper.Disposable.@PropertyBagHistories.SingleOrDefault(lo => lo.@PropertyBagHistoryId == @propertyBagHistory.@PropertyBagHistoryId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@PropertyBagHistories.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictPropertyBagHistory(unitOfWork, @propertyBagHistory);
					
					return false;
				}

				this.OnPostDeletePropertyBagHistory(unitOfWork, @propertyBagHistory);
				
				@propertyBagHistory.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertPropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnPostInsertPropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnPreUpdatePropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnPostUpdatePropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnPreDeletePropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnPostDeletePropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnSaveConflictPropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnDiscardConflictPropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);
		
		partial void OnSelectPropertyBagHistory(IUnitOfWork unitOfWork, PropertyBagHistory @propertyBagHistory);		

		public EventLogHistory LoadEventLogHistory(Int64 @eventLogHistoryId)
		{
			EventLogHistory @eventLogHistory;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@eventLogHistory = this.LoadEventLogHistory(unitOfWork, @eventLogHistoryId);

					unitOfWork.Complete();
				}
			}
			else
				@eventLogHistory = this.LoadEventLogHistory(UnitOfWork.Current, @eventLogHistoryId);
			
			return @eventLogHistory;
		}
		
		public EventLogHistory LoadEventLogHistory(IUnitOfWork unitOfWork, Int64 @eventLogHistoryId)
		{			
			EventLogHistory @eventLogHistory;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.EventLogHistories.SingleOrDefault(lo => lo.@EventLogHistoryId == @eventLogHistoryId);

				if ((object)query == null)
					return null; // does not exist
				
				@eventLogHistory = new EventLogHistory()
								{
									// map result to POCO from L2S object
									@EventLogHistoryId = query.@EventLogHistoryId,
									@EventLogHistoryTs = query.@EventLogHistoryTs,
									@EventLogId = query.@EventLogId,
									@EventText = query.@EventText,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectEventLogHistory(unitOfWork, @eventLogHistory);

				return @eventLogHistory;
			}
		}
		
		public IEnumerable<EventLogHistory> FindEventLogHistories(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory>> callback)
		{
			IEnumerable<EventLogHistory> @eventLogHistories;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@eventLogHistories = this.FindEventLogHistories(unitOfWork, callback);

					@eventLogHistories = @eventLogHistories.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@eventLogHistories = this.FindEventLogHistories(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @eventLogHistories;
		}
		
		public IEnumerable<EventLogHistory> FindEventLogHistories(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory>> callback)
		{
			IEnumerable<EventLogHistory> @eventLogHistories;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@EventLogHistories);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@eventLogHistories = queryable.Select(lo => new EventLogHistory()
												 {
													// map results to POCOs from L2S objects
													@EventLogHistoryId = lo.@EventLogHistoryId,
													@EventLogHistoryTs = lo.@EventLogHistoryTs,
													@EventLogId = lo.@EventLogId,
													@EventText = lo.@EventText,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (EventLogHistory @eventLogHistory in @eventLogHistories)
				{
					this.OnSelectEventLogHistory(unitOfWork, @eventLogHistory);
					
					yield return @eventLogHistory; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveEventLogHistory(EventLogHistory @eventLogHistory)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveEventLogHistory(unitOfWork, @eventLogHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveEventLogHistory(UnitOfWork.Current, @eventLogHistory);
			
			return retval;
		}
		
		public bool SaveEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@eventLogHistory == null)
				throw new ArgumentNullException("eventLogHistory");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @eventLogHistory.IsNew;

				if (wasNew)
				{
					this.OnPreInsertEventLogHistory(unitOfWork, @eventLogHistory);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory();

					wrapper.Disposable.EventLogHistories.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateEventLogHistory(unitOfWork, @eventLogHistory);
					
					query = wrapper.Disposable.EventLogHistories.SingleOrDefault(lo => lo.@EventLogHistoryId == @eventLogHistory.@EventLogHistoryId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@EventLogHistoryId = @eventLogHistory.@EventLogHistoryId;
				query.@EventLogHistoryTs = @eventLogHistory.@EventLogHistoryTs;
				query.@EventLogId = @eventLogHistory.@EventLogId;
				query.@EventText = @eventLogHistory.@EventText;
				query.@SortOrder = @eventLogHistory.@SortOrder;
				query.@CreationTimestamp = @eventLogHistory.@CreationTimestamp;
				query.@ModificationTimestamp = @eventLogHistory.@ModificationTimestamp;
				query.@CreationUserId = @eventLogHistory.@CreationUserId;
				query.@ModificationUserId = @eventLogHistory.@ModificationUserId;
				query.@LogicalDelete = @eventLogHistory.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictEventLogHistory(unitOfWork, @eventLogHistory);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@eventLogHistory.@EventLogHistoryId = query.@EventLogHistoryId;
				@eventLogHistory.@EventLogHistoryTs = query.@EventLogHistoryTs;
				@eventLogHistory.@EventLogId = query.@EventLogId;
				@eventLogHistory.@EventText = query.@EventText;
				@eventLogHistory.@SortOrder = query.@SortOrder;
				@eventLogHistory.@CreationTimestamp = query.@CreationTimestamp;
				@eventLogHistory.@ModificationTimestamp = query.@ModificationTimestamp;
				@eventLogHistory.@CreationUserId = query.@CreationUserId;
				@eventLogHistory.@ModificationUserId = query.@ModificationUserId;
				@eventLogHistory.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertEventLogHistory(unitOfWork, @eventLogHistory);
				}
				else
				{
					this.OnPostUpdateEventLogHistory(unitOfWork, @eventLogHistory);
				}

				return true;
			}
		}
		
		public bool DiscardEventLogHistory(EventLogHistory @eventLogHistory)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardEventLogHistory(unitOfWork, @eventLogHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardEventLogHistory(UnitOfWork.Current, @eventLogHistory);
			
			return retval;
		}
		
		public bool DiscardEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EventLogHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@eventLogHistory == null)
				throw new ArgumentNullException("eventLogHistory");
				
			if (@eventLogHistory.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteEventLogHistory(unitOfWork, @eventLogHistory);
				
				query = wrapper.Disposable.@EventLogHistories.SingleOrDefault(lo => lo.@EventLogHistoryId == @eventLogHistory.@EventLogHistoryId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@EventLogHistories.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictEventLogHistory(unitOfWork, @eventLogHistory);
					
					return false;
				}

				this.OnPostDeleteEventLogHistory(unitOfWork, @eventLogHistory);
				
				@eventLogHistory.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnPostInsertEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnPreUpdateEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnPostUpdateEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnPreDeleteEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnPostDeleteEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnSaveConflictEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnDiscardConflictEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);
		
		partial void OnSelectEventLogHistory(IUnitOfWork unitOfWork, EventLogHistory @eventLogHistory);		

		public EmailMessageHistory LoadEmailMessageHistory(Int64 @emailMessageHistoryId)
		{
			EmailMessageHistory @emailMessageHistory;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailMessageHistory = this.LoadEmailMessageHistory(unitOfWork, @emailMessageHistoryId);

					unitOfWork.Complete();
				}
			}
			else
				@emailMessageHistory = this.LoadEmailMessageHistory(UnitOfWork.Current, @emailMessageHistoryId);
			
			return @emailMessageHistory;
		}
		
		public EmailMessageHistory LoadEmailMessageHistory(IUnitOfWork unitOfWork, Int64 @emailMessageHistoryId)
		{			
			EmailMessageHistory @emailMessageHistory;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.EmailMessageHistories.SingleOrDefault(lo => lo.@EmailMessageHistoryId == @emailMessageHistoryId);

				if ((object)query == null)
					return null; // does not exist
				
				@emailMessageHistory = new EmailMessageHistory()
								{
									// map result to POCO from L2S object
									@EmailMessageHistoryId = query.@EmailMessageHistoryId,
									@EmailMessageHistoryTs = query.@EmailMessageHistoryTs,
									@EmailMessageId = query.@EmailMessageId,
									@From = query.@From,
									@Sender = query.@Sender,
									@ReplyTo = query.@ReplyTo,
									@To = query.@To,
									@CarbonCopy = query.@CarbonCopy,
									@BlindCarbonCopy = query.@BlindCarbonCopy,
									@Subject = query.@Subject,
									@IsBodyHtml = query.@IsBodyHtml,
									@Body = query.@Body,
									@Processed = query.@Processed,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectEmailMessageHistory(unitOfWork, @emailMessageHistory);

				return @emailMessageHistory;
			}
		}
		
		public IEnumerable<EmailMessageHistory> FindEmailMessageHistories(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory>> callback)
		{
			IEnumerable<EmailMessageHistory> @emailMessageHistories;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailMessageHistories = this.FindEmailMessageHistories(unitOfWork, callback);

					@emailMessageHistories = @emailMessageHistories.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@emailMessageHistories = this.FindEmailMessageHistories(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @emailMessageHistories;
		}
		
		public IEnumerable<EmailMessageHistory> FindEmailMessageHistories(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory>> callback)
		{
			IEnumerable<EmailMessageHistory> @emailMessageHistories;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@EmailMessageHistories);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@emailMessageHistories = queryable.Select(lo => new EmailMessageHistory()
												 {
													// map results to POCOs from L2S objects
													@EmailMessageHistoryId = lo.@EmailMessageHistoryId,
													@EmailMessageHistoryTs = lo.@EmailMessageHistoryTs,
													@EmailMessageId = lo.@EmailMessageId,
													@From = lo.@From,
													@Sender = lo.@Sender,
													@ReplyTo = lo.@ReplyTo,
													@To = lo.@To,
													@CarbonCopy = lo.@CarbonCopy,
													@BlindCarbonCopy = lo.@BlindCarbonCopy,
													@Subject = lo.@Subject,
													@IsBodyHtml = lo.@IsBodyHtml,
													@Body = lo.@Body,
													@Processed = lo.@Processed,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (EmailMessageHistory @emailMessageHistory in @emailMessageHistories)
				{
					this.OnSelectEmailMessageHistory(unitOfWork, @emailMessageHistory);
					
					yield return @emailMessageHistory; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveEmailMessageHistory(EmailMessageHistory @emailMessageHistory)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveEmailMessageHistory(unitOfWork, @emailMessageHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveEmailMessageHistory(UnitOfWork.Current, @emailMessageHistory);
			
			return retval;
		}
		
		public bool SaveEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailMessageHistory == null)
				throw new ArgumentNullException("emailMessageHistory");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @emailMessageHistory.IsNew;

				if (wasNew)
				{
					this.OnPreInsertEmailMessageHistory(unitOfWork, @emailMessageHistory);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory();

					wrapper.Disposable.EmailMessageHistories.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateEmailMessageHistory(unitOfWork, @emailMessageHistory);
					
					query = wrapper.Disposable.EmailMessageHistories.SingleOrDefault(lo => lo.@EmailMessageHistoryId == @emailMessageHistory.@EmailMessageHistoryId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@EmailMessageHistoryId = @emailMessageHistory.@EmailMessageHistoryId;
				query.@EmailMessageHistoryTs = @emailMessageHistory.@EmailMessageHistoryTs;
				query.@EmailMessageId = @emailMessageHistory.@EmailMessageId;
				query.@From = @emailMessageHistory.@From;
				query.@Sender = @emailMessageHistory.@Sender;
				query.@ReplyTo = @emailMessageHistory.@ReplyTo;
				query.@To = @emailMessageHistory.@To;
				query.@CarbonCopy = @emailMessageHistory.@CarbonCopy;
				query.@BlindCarbonCopy = @emailMessageHistory.@BlindCarbonCopy;
				query.@Subject = @emailMessageHistory.@Subject;
				query.@IsBodyHtml = @emailMessageHistory.@IsBodyHtml;
				query.@Body = @emailMessageHistory.@Body;
				query.@Processed = @emailMessageHistory.@Processed;
				query.@SortOrder = @emailMessageHistory.@SortOrder;
				query.@CreationTimestamp = @emailMessageHistory.@CreationTimestamp;
				query.@ModificationTimestamp = @emailMessageHistory.@ModificationTimestamp;
				query.@CreationUserId = @emailMessageHistory.@CreationUserId;
				query.@ModificationUserId = @emailMessageHistory.@ModificationUserId;
				query.@LogicalDelete = @emailMessageHistory.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictEmailMessageHistory(unitOfWork, @emailMessageHistory);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@emailMessageHistory.@EmailMessageHistoryId = query.@EmailMessageHistoryId;
				@emailMessageHistory.@EmailMessageHistoryTs = query.@EmailMessageHistoryTs;
				@emailMessageHistory.@EmailMessageId = query.@EmailMessageId;
				@emailMessageHistory.@From = query.@From;
				@emailMessageHistory.@Sender = query.@Sender;
				@emailMessageHistory.@ReplyTo = query.@ReplyTo;
				@emailMessageHistory.@To = query.@To;
				@emailMessageHistory.@CarbonCopy = query.@CarbonCopy;
				@emailMessageHistory.@BlindCarbonCopy = query.@BlindCarbonCopy;
				@emailMessageHistory.@Subject = query.@Subject;
				@emailMessageHistory.@IsBodyHtml = query.@IsBodyHtml;
				@emailMessageHistory.@Body = query.@Body;
				@emailMessageHistory.@Processed = query.@Processed;
				@emailMessageHistory.@SortOrder = query.@SortOrder;
				@emailMessageHistory.@CreationTimestamp = query.@CreationTimestamp;
				@emailMessageHistory.@ModificationTimestamp = query.@ModificationTimestamp;
				@emailMessageHistory.@CreationUserId = query.@CreationUserId;
				@emailMessageHistory.@ModificationUserId = query.@ModificationUserId;
				@emailMessageHistory.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertEmailMessageHistory(unitOfWork, @emailMessageHistory);
				}
				else
				{
					this.OnPostUpdateEmailMessageHistory(unitOfWork, @emailMessageHistory);
				}

				return true;
			}
		}
		
		public bool DiscardEmailMessageHistory(EmailMessageHistory @emailMessageHistory)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardEmailMessageHistory(unitOfWork, @emailMessageHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardEmailMessageHistory(UnitOfWork.Current, @emailMessageHistory);
			
			return retval;
		}
		
		public bool DiscardEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailMessageHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailMessageHistory == null)
				throw new ArgumentNullException("emailMessageHistory");
				
			if (@emailMessageHistory.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteEmailMessageHistory(unitOfWork, @emailMessageHistory);
				
				query = wrapper.Disposable.@EmailMessageHistories.SingleOrDefault(lo => lo.@EmailMessageHistoryId == @emailMessageHistory.@EmailMessageHistoryId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@EmailMessageHistories.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictEmailMessageHistory(unitOfWork, @emailMessageHistory);
					
					return false;
				}

				this.OnPostDeleteEmailMessageHistory(unitOfWork, @emailMessageHistory);
				
				@emailMessageHistory.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnPostInsertEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnPreUpdateEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnPostUpdateEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnPreDeleteEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnPostDeleteEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnSaveConflictEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnDiscardConflictEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);
		
		partial void OnSelectEmailMessageHistory(IUnitOfWork unitOfWork, EmailMessageHistory @emailMessageHistory);		

		public EmailAttachmentHistory LoadEmailAttachmentHistory(Int64 @emailAttachmentHistoryId)
		{
			EmailAttachmentHistory @emailAttachmentHistory;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailAttachmentHistory = this.LoadEmailAttachmentHistory(unitOfWork, @emailAttachmentHistoryId);

					unitOfWork.Complete();
				}
			}
			else
				@emailAttachmentHistory = this.LoadEmailAttachmentHistory(UnitOfWork.Current, @emailAttachmentHistoryId);
			
			return @emailAttachmentHistory;
		}
		
		public EmailAttachmentHistory LoadEmailAttachmentHistory(IUnitOfWork unitOfWork, Int64 @emailAttachmentHistoryId)
		{			
			EmailAttachmentHistory @emailAttachmentHistory;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.EmailAttachmentHistories.SingleOrDefault(lo => lo.@EmailAttachmentHistoryId == @emailAttachmentHistoryId);

				if ((object)query == null)
					return null; // does not exist
				
				@emailAttachmentHistory = new EmailAttachmentHistory()
								{
									// map result to POCO from L2S object
									@EmailAttachmentHistoryId = query.@EmailAttachmentHistoryId,
									@EmailAttachmentHistoryTs = query.@EmailAttachmentHistoryTs,
									@EmailMessageId = query.@EmailMessageId,
									@EmailAttachmentId = query.@EmailAttachmentId,
									@FileName = query.@FileName,
									@FileSize = query.@FileSize,
									@MimeType = query.@MimeType,
									@AttachmentBits = (object)query.AttachmentBits != null ? query.@AttachmentBits.ToArray() : null,
									@SortOrder = query.@SortOrder,
									@CreationTimestamp = query.@CreationTimestamp,
									@ModificationTimestamp = query.@ModificationTimestamp,
									@CreationUserId = query.@CreationUserId,
									@ModificationUserId = query.@ModificationUserId,
									@LogicalDelete = query.@LogicalDelete
								};	

				this.OnSelectEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);

				return @emailAttachmentHistory;
			}
		}
		
		public IEnumerable<EmailAttachmentHistory> FindEmailAttachmentHistories(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory>> callback)
		{
			IEnumerable<EmailAttachmentHistory> @emailAttachmentHistories;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@emailAttachmentHistories = this.FindEmailAttachmentHistories(unitOfWork, callback);

					@emailAttachmentHistories = @emailAttachmentHistories.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@emailAttachmentHistories = this.FindEmailAttachmentHistories(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @emailAttachmentHistories;
		}
		
		public IEnumerable<EmailAttachmentHistory> FindEmailAttachmentHistories(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory>> callback)
		{
			IEnumerable<EmailAttachmentHistory> @emailAttachmentHistories;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@EmailAttachmentHistories);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@emailAttachmentHistories = queryable.Select(lo => new EmailAttachmentHistory()
												 {
													// map results to POCOs from L2S objects
													@EmailAttachmentHistoryId = lo.@EmailAttachmentHistoryId,
													@EmailAttachmentHistoryTs = lo.@EmailAttachmentHistoryTs,
													@EmailMessageId = lo.@EmailMessageId,
													@EmailAttachmentId = lo.@EmailAttachmentId,
													@FileName = lo.@FileName,
													@FileSize = lo.@FileSize,
													@MimeType = lo.@MimeType,
													@AttachmentBits = (object)lo.AttachmentBits != null ? lo.@AttachmentBits.ToArray() : null,
													@SortOrder = lo.@SortOrder,
													@CreationTimestamp = lo.@CreationTimestamp,
													@ModificationTimestamp = lo.@ModificationTimestamp,
													@CreationUserId = lo.@CreationUserId,
													@ModificationUserId = lo.@ModificationUserId,
													@LogicalDelete = lo.@LogicalDelete
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (EmailAttachmentHistory @emailAttachmentHistory in @emailAttachmentHistories)
				{
					this.OnSelectEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
					
					yield return @emailAttachmentHistory; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveEmailAttachmentHistory(EmailAttachmentHistory @emailAttachmentHistory)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveEmailAttachmentHistory(UnitOfWork.Current, @emailAttachmentHistory);
			
			return retval;
		}
		
		public bool SaveEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailAttachmentHistory == null)
				throw new ArgumentNullException("emailAttachmentHistory");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @emailAttachmentHistory.IsNew;

				if (wasNew)
				{
					this.OnPreInsertEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory();

					wrapper.Disposable.EmailAttachmentHistories.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
					
					query = wrapper.Disposable.EmailAttachmentHistories.SingleOrDefault(lo => lo.@EmailAttachmentHistoryId == @emailAttachmentHistory.@EmailAttachmentHistoryId);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@EmailAttachmentHistoryId = @emailAttachmentHistory.@EmailAttachmentHistoryId;
				query.@EmailAttachmentHistoryTs = @emailAttachmentHistory.@EmailAttachmentHistoryTs;
				query.@EmailMessageId = @emailAttachmentHistory.@EmailMessageId;
				query.@EmailAttachmentId = @emailAttachmentHistory.@EmailAttachmentId;
				query.@FileName = @emailAttachmentHistory.@FileName;
				query.@FileSize = @emailAttachmentHistory.@FileSize;
				query.@MimeType = @emailAttachmentHistory.@MimeType;
				if ((object)@emailAttachmentHistory.@AttachmentBits != null) // prevent implicit conversion of null -> exception
					query.@AttachmentBits = @emailAttachmentHistory.@AttachmentBits;
				query.@SortOrder = @emailAttachmentHistory.@SortOrder;
				query.@CreationTimestamp = @emailAttachmentHistory.@CreationTimestamp;
				query.@ModificationTimestamp = @emailAttachmentHistory.@ModificationTimestamp;
				query.@CreationUserId = @emailAttachmentHistory.@CreationUserId;
				query.@ModificationUserId = @emailAttachmentHistory.@ModificationUserId;
				query.@LogicalDelete = @emailAttachmentHistory.@LogicalDelete;		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@emailAttachmentHistory.@EmailAttachmentHistoryId = query.@EmailAttachmentHistoryId;
				@emailAttachmentHistory.@EmailAttachmentHistoryTs = query.@EmailAttachmentHistoryTs;
				@emailAttachmentHistory.@EmailMessageId = query.@EmailMessageId;
				@emailAttachmentHistory.@EmailAttachmentId = query.@EmailAttachmentId;
				@emailAttachmentHistory.@FileName = query.@FileName;
				@emailAttachmentHistory.@FileSize = query.@FileSize;
				@emailAttachmentHistory.@MimeType = query.@MimeType;
				@emailAttachmentHistory.@AttachmentBits = (object)query.@AttachmentBits != null ? query.@AttachmentBits.ToArray() : null;
				@emailAttachmentHistory.@SortOrder = query.@SortOrder;
				@emailAttachmentHistory.@CreationTimestamp = query.@CreationTimestamp;
				@emailAttachmentHistory.@ModificationTimestamp = query.@ModificationTimestamp;
				@emailAttachmentHistory.@CreationUserId = query.@CreationUserId;
				@emailAttachmentHistory.@ModificationUserId = query.@ModificationUserId;
				@emailAttachmentHistory.@LogicalDelete = query.@LogicalDelete;
						
				if (wasNew)
				{
					this.OnPostInsertEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
				}
				else
				{
					this.OnPostUpdateEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
				}

				return true;
			}
		}
		
		public bool DiscardEmailAttachmentHistory(EmailAttachmentHistory @emailAttachmentHistory)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardEmailAttachmentHistory(UnitOfWork.Current, @emailAttachmentHistory);
			
			return retval;
		}
		
		public bool DiscardEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.EmailAttachmentHistory query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@emailAttachmentHistory == null)
				throw new ArgumentNullException("emailAttachmentHistory");
				
			if (@emailAttachmentHistory.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
				
				query = wrapper.Disposable.@EmailAttachmentHistories.SingleOrDefault(lo => lo.@EmailAttachmentHistoryId == @emailAttachmentHistory.@EmailAttachmentHistoryId);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@EmailAttachmentHistories.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
					
					return false;
				}

				this.OnPostDeleteEmailAttachmentHistory(unitOfWork, @emailAttachmentHistory);
				
				@emailAttachmentHistory.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnPostInsertEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnPreUpdateEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnPostUpdateEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnPreDeleteEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnPostDeleteEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnSaveConflictEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnDiscardConflictEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);
		
		partial void OnSelectEmailAttachmentHistory(IUnitOfWork unitOfWork, EmailAttachmentHistory @emailAttachmentHistory);		
		public TabWithPrimaryKeyAsIdentity LoadTabWithPrimaryKeyAsIdentity(Int32 @colIntIdPk)
		{
			TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyAsIdentity = this.LoadTabWithPrimaryKeyAsIdentity(unitOfWork, @colIntIdPk);

					unitOfWork.Complete();
				}
			}
			else
				@tabWithPrimaryKeyAsIdentity = this.LoadTabWithPrimaryKeyAsIdentity(UnitOfWork.Current, @colIntIdPk);
			
			return @tabWithPrimaryKeyAsIdentity;
		}
		
		public TabWithPrimaryKeyAsIdentity LoadTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, Int32 @colIntIdPk)
		{			
			TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Tab_with_primary_key_as_identities.SingleOrDefault(lo => lo.@Col_int_id_pk == @colIntIdPk);

				if ((object)query == null)
					return null; // does not exist
				
				@tabWithPrimaryKeyAsIdentity = new TabWithPrimaryKeyAsIdentity()
								{
									// map result to POCO from L2S object
									@ColIntIdPk = query.@Col_int_id_pk,
									@ColBigint = query.@Col_bigint,
									@ColBinary = (object)query.Col_binary != null ? query.@Col_binary.ToArray() : null,
									@ColBit = query.@Col_bit,
									@ColChar = query.@Col_char,
									@ColDate = query.@Col_date,
									@ColDatetime = query.@Col_datetime,
									@ColDatetime2 = query.@Col_datetime2,
									@ColDatetimeoffset = query.@Col_datetimeoffset,
									@ColDecimal = query.@Col_decimal,
									@ColFloat = query.@Col_float,
									@ColImage = (object)query.Col_image != null ? query.@Col_image.ToArray() : null,
									@ColInt = query.@Col_int,
									@ColMoney = query.@Col_money,
									@ColNchar = query.@Col_nchar,
									@ColNtext = query.@Col_ntext,
									@ColNumeric = query.@Col_numeric,
									@ColNvarchar = query.@Col_nvarchar,
									@ColReal = query.@Col_real,
									@ColRowversion = (object)query.Col_rowversion != null ? query.@Col_rowversion.ToArray() : null,
									@ColSmalldatetime = query.@Col_smalldatetime,
									@ColSmallint = query.@Col_smallint,
									@ColSmallmoney = query.@Col_smallmoney,
									@ColSqlVariant = query.@Col_sql_variant,
									@ColSysname = query.@Col_sysname,
									@ColText = query.@Col_text,
									@ColTime = query.@Col_time,
									@ColTinyint = query.@Col_tinyint,
									@ColUniqueidentifier = query.@Col_uniqueidentifier,
									@ColVarbinary = (object)query.Col_varbinary != null ? query.@Col_varbinary.ToArray() : null,
									@ColVarchar = query.@Col_varchar,
									@ColXml = (object)query.Col_xml != null ? ToXmlDocument(query.@Col_xml) : null
								};	

				this.OnSelectTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);

				return @tabWithPrimaryKeyAsIdentity;
			}
		}
		
		public IEnumerable<TabWithPrimaryKeyAsIdentity> FindTabWithPrimaryKeyAsIdentities(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity>> callback)
		{
			IEnumerable<TabWithPrimaryKeyAsIdentity> @tabWithPrimaryKeyAsIdentities;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyAsIdentities = this.FindTabWithPrimaryKeyAsIdentities(unitOfWork, callback);

					@tabWithPrimaryKeyAsIdentities = @tabWithPrimaryKeyAsIdentities.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@tabWithPrimaryKeyAsIdentities = this.FindTabWithPrimaryKeyAsIdentities(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @tabWithPrimaryKeyAsIdentities;
		}
		
		public IEnumerable<TabWithPrimaryKeyAsIdentity> FindTabWithPrimaryKeyAsIdentities(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity>> callback)
		{
			IEnumerable<TabWithPrimaryKeyAsIdentity> @tabWithPrimaryKeyAsIdentities;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Tab_with_primary_key_as_identities);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@tabWithPrimaryKeyAsIdentities = queryable.Select(lo => new TabWithPrimaryKeyAsIdentity()
												 {
													// map results to POCOs from L2S objects
													@ColIntIdPk = lo.@Col_int_id_pk,
													@ColBigint = lo.@Col_bigint,
													@ColBinary = (object)lo.Col_binary != null ? lo.@Col_binary.ToArray() : null,
													@ColBit = lo.@Col_bit,
													@ColChar = lo.@Col_char,
													@ColDate = lo.@Col_date,
													@ColDatetime = lo.@Col_datetime,
													@ColDatetime2 = lo.@Col_datetime2,
													@ColDatetimeoffset = lo.@Col_datetimeoffset,
													@ColDecimal = lo.@Col_decimal,
													@ColFloat = lo.@Col_float,
													@ColImage = (object)lo.Col_image != null ? lo.@Col_image.ToArray() : null,
													@ColInt = lo.@Col_int,
													@ColMoney = lo.@Col_money,
													@ColNchar = lo.@Col_nchar,
													@ColNtext = lo.@Col_ntext,
													@ColNumeric = lo.@Col_numeric,
													@ColNvarchar = lo.@Col_nvarchar,
													@ColReal = lo.@Col_real,
													@ColRowversion = (object)lo.Col_rowversion != null ? lo.@Col_rowversion.ToArray() : null,
													@ColSmalldatetime = lo.@Col_smalldatetime,
													@ColSmallint = lo.@Col_smallint,
													@ColSmallmoney = lo.@Col_smallmoney,
													@ColSqlVariant = lo.@Col_sql_variant,
													@ColSysname = lo.@Col_sysname,
													@ColText = lo.@Col_text,
													@ColTime = lo.@Col_time,
													@ColTinyint = lo.@Col_tinyint,
													@ColUniqueidentifier = lo.@Col_uniqueidentifier,
													@ColVarbinary = (object)lo.Col_varbinary != null ? lo.@Col_varbinary.ToArray() : null,
													@ColVarchar = lo.@Col_varchar,
													@ColXml = (object)lo.Col_xml != null ? ToXmlDocument(lo.@Col_xml) : null
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity in @tabWithPrimaryKeyAsIdentities)
				{
					this.OnSelectTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
					
					yield return @tabWithPrimaryKeyAsIdentity; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveTabWithPrimaryKeyAsIdentity(TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveTabWithPrimaryKeyAsIdentity(UnitOfWork.Current, @tabWithPrimaryKeyAsIdentity);
			
			return retval;
		}
		
		public bool SaveTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyAsIdentity == null)
				throw new ArgumentNullException("tabWithPrimaryKeyAsIdentity");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @tabWithPrimaryKeyAsIdentity.IsNew;

				if (wasNew)
				{
					this.OnPreInsertTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity();

					wrapper.Disposable.Tab_with_primary_key_as_identities.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
					
					query = wrapper.Disposable.Tab_with_primary_key_as_identities.SingleOrDefault(lo => lo.@Col_int_id_pk == @tabWithPrimaryKeyAsIdentity.@ColIntIdPk);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@Col_int_id_pk = @tabWithPrimaryKeyAsIdentity.@ColIntIdPk;
				query.@Col_bigint = @tabWithPrimaryKeyAsIdentity.@ColBigint;
				if ((object)@tabWithPrimaryKeyAsIdentity.@ColBinary != null) // prevent implicit conversion of null -> exception
					query.@Col_binary = @tabWithPrimaryKeyAsIdentity.@ColBinary;
				query.@Col_bit = @tabWithPrimaryKeyAsIdentity.@ColBit;
				query.@Col_char = @tabWithPrimaryKeyAsIdentity.@ColChar;
				query.@Col_date = @tabWithPrimaryKeyAsIdentity.@ColDate;
				query.@Col_datetime = @tabWithPrimaryKeyAsIdentity.@ColDatetime;
				query.@Col_datetime2 = @tabWithPrimaryKeyAsIdentity.@ColDatetime2;
				query.@Col_datetimeoffset = @tabWithPrimaryKeyAsIdentity.@ColDatetimeoffset;
				query.@Col_decimal = @tabWithPrimaryKeyAsIdentity.@ColDecimal;
				query.@Col_float = @tabWithPrimaryKeyAsIdentity.@ColFloat;
				if ((object)@tabWithPrimaryKeyAsIdentity.@ColImage != null) // prevent implicit conversion of null -> exception
					query.@Col_image = @tabWithPrimaryKeyAsIdentity.@ColImage;
				query.@Col_int = @tabWithPrimaryKeyAsIdentity.@ColInt;
				query.@Col_money = @tabWithPrimaryKeyAsIdentity.@ColMoney;
				query.@Col_nchar = @tabWithPrimaryKeyAsIdentity.@ColNchar;
				query.@Col_ntext = @tabWithPrimaryKeyAsIdentity.@ColNtext;
				query.@Col_numeric = @tabWithPrimaryKeyAsIdentity.@ColNumeric;
				query.@Col_nvarchar = @tabWithPrimaryKeyAsIdentity.@ColNvarchar;
				query.@Col_real = @tabWithPrimaryKeyAsIdentity.@ColReal;
				if ((object)@tabWithPrimaryKeyAsIdentity.@ColRowversion != null) // prevent implicit conversion of null -> exception
					query.@Col_rowversion = @tabWithPrimaryKeyAsIdentity.@ColRowversion;
				query.@Col_smalldatetime = @tabWithPrimaryKeyAsIdentity.@ColSmalldatetime;
				query.@Col_smallint = @tabWithPrimaryKeyAsIdentity.@ColSmallint;
				query.@Col_smallmoney = @tabWithPrimaryKeyAsIdentity.@ColSmallmoney;
				query.@Col_sql_variant = @tabWithPrimaryKeyAsIdentity.@ColSqlVariant;
				query.@Col_sysname = @tabWithPrimaryKeyAsIdentity.@ColSysname;
				query.@Col_text = @tabWithPrimaryKeyAsIdentity.@ColText;
				query.@Col_time = @tabWithPrimaryKeyAsIdentity.@ColTime;
				query.@Col_tinyint = @tabWithPrimaryKeyAsIdentity.@ColTinyint;
				query.@Col_uniqueidentifier = @tabWithPrimaryKeyAsIdentity.@ColUniqueidentifier;
				if ((object)@tabWithPrimaryKeyAsIdentity.@ColVarbinary != null) // prevent implicit conversion of null -> exception
					query.@Col_varbinary = @tabWithPrimaryKeyAsIdentity.@ColVarbinary;
				query.@Col_varchar = @tabWithPrimaryKeyAsIdentity.@ColVarchar;
				if ((object)@tabWithPrimaryKeyAsIdentity.@ColXml != null) // prevent implicit conversion of null -> exception
					query.@Col_xml = ToXElement(@tabWithPrimaryKeyAsIdentity.@ColXml);		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@tabWithPrimaryKeyAsIdentity.@ColIntIdPk = query.@Col_int_id_pk;
				@tabWithPrimaryKeyAsIdentity.@ColBigint = query.@Col_bigint;
				@tabWithPrimaryKeyAsIdentity.@ColBinary = (object)query.@Col_binary != null ? query.@Col_binary.ToArray() : null;
				@tabWithPrimaryKeyAsIdentity.@ColBit = query.@Col_bit;
				@tabWithPrimaryKeyAsIdentity.@ColChar = query.@Col_char;
				@tabWithPrimaryKeyAsIdentity.@ColDate = query.@Col_date;
				@tabWithPrimaryKeyAsIdentity.@ColDatetime = query.@Col_datetime;
				@tabWithPrimaryKeyAsIdentity.@ColDatetime2 = query.@Col_datetime2;
				@tabWithPrimaryKeyAsIdentity.@ColDatetimeoffset = query.@Col_datetimeoffset;
				@tabWithPrimaryKeyAsIdentity.@ColDecimal = query.@Col_decimal;
				@tabWithPrimaryKeyAsIdentity.@ColFloat = query.@Col_float;
				@tabWithPrimaryKeyAsIdentity.@ColImage = (object)query.@Col_image != null ? query.@Col_image.ToArray() : null;
				@tabWithPrimaryKeyAsIdentity.@ColInt = query.@Col_int;
				@tabWithPrimaryKeyAsIdentity.@ColMoney = query.@Col_money;
				@tabWithPrimaryKeyAsIdentity.@ColNchar = query.@Col_nchar;
				@tabWithPrimaryKeyAsIdentity.@ColNtext = query.@Col_ntext;
				@tabWithPrimaryKeyAsIdentity.@ColNumeric = query.@Col_numeric;
				@tabWithPrimaryKeyAsIdentity.@ColNvarchar = query.@Col_nvarchar;
				@tabWithPrimaryKeyAsIdentity.@ColReal = query.@Col_real;
				@tabWithPrimaryKeyAsIdentity.@ColRowversion = (object)query.@Col_rowversion != null ? query.@Col_rowversion.ToArray() : null;
				@tabWithPrimaryKeyAsIdentity.@ColSmalldatetime = query.@Col_smalldatetime;
				@tabWithPrimaryKeyAsIdentity.@ColSmallint = query.@Col_smallint;
				@tabWithPrimaryKeyAsIdentity.@ColSmallmoney = query.@Col_smallmoney;
				@tabWithPrimaryKeyAsIdentity.@ColSqlVariant = query.@Col_sql_variant;
				@tabWithPrimaryKeyAsIdentity.@ColSysname = query.@Col_sysname;
				@tabWithPrimaryKeyAsIdentity.@ColText = query.@Col_text;
				@tabWithPrimaryKeyAsIdentity.@ColTime = query.@Col_time;
				@tabWithPrimaryKeyAsIdentity.@ColTinyint = query.@Col_tinyint;
				@tabWithPrimaryKeyAsIdentity.@ColUniqueidentifier = query.@Col_uniqueidentifier;
				@tabWithPrimaryKeyAsIdentity.@ColVarbinary = (object)query.@Col_varbinary != null ? query.@Col_varbinary.ToArray() : null;
				@tabWithPrimaryKeyAsIdentity.@ColVarchar = query.@Col_varchar;
				@tabWithPrimaryKeyAsIdentity.@ColXml = (object)query.@Col_xml != null ? ToXmlDocument(query.@Col_xml) : null;
						
				if (wasNew)
				{
					this.OnPostInsertTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
				}
				else
				{
					this.OnPostUpdateTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
				}

				return true;
			}
		}
		
		public bool DiscardTabWithPrimaryKeyAsIdentity(TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardTabWithPrimaryKeyAsIdentity(UnitOfWork.Current, @tabWithPrimaryKeyAsIdentity);
			
			return retval;
		}
		
		public bool DiscardTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyAsIdentity == null)
				throw new ArgumentNullException("tabWithPrimaryKeyAsIdentity");
				
			if (@tabWithPrimaryKeyAsIdentity.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
				
				query = wrapper.Disposable.@Tab_with_primary_key_as_identities.SingleOrDefault(lo => lo.@Col_int_id_pk == @tabWithPrimaryKeyAsIdentity.@ColIntIdPk);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Tab_with_primary_key_as_identities.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
					
					return false;
				}

				this.OnPostDeleteTabWithPrimaryKeyAsIdentity(unitOfWork, @tabWithPrimaryKeyAsIdentity);
				
				@tabWithPrimaryKeyAsIdentity.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnPostInsertTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnPreUpdateTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnPostUpdateTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnPreDeleteTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnPostDeleteTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnSaveConflictTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnDiscardConflictTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);
		
		partial void OnSelectTabWithPrimaryKeyAsIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsIdentity @tabWithPrimaryKeyAsIdentity);		

		public TabWithPrimaryKeyAsDefault LoadTabWithPrimaryKeyAsDefault(Guid @colUuidDfPk)
		{
			TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyAsDefault = this.LoadTabWithPrimaryKeyAsDefault(unitOfWork, @colUuidDfPk);

					unitOfWork.Complete();
				}
			}
			else
				@tabWithPrimaryKeyAsDefault = this.LoadTabWithPrimaryKeyAsDefault(UnitOfWork.Current, @colUuidDfPk);
			
			return @tabWithPrimaryKeyAsDefault;
		}
		
		public TabWithPrimaryKeyAsDefault LoadTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, Guid @colUuidDfPk)
		{			
			TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Tab_with_primary_key_as_defaults.SingleOrDefault(lo => lo.@Col_uuid_df_pk == @colUuidDfPk);

				if ((object)query == null)
					return null; // does not exist
				
				@tabWithPrimaryKeyAsDefault = new TabWithPrimaryKeyAsDefault()
								{
									// map result to POCO from L2S object
									@ColUuidDfPk = query.@Col_uuid_df_pk,
									@ColBigint = query.@Col_bigint,
									@ColBinary = (object)query.Col_binary != null ? query.@Col_binary.ToArray() : null,
									@ColBit = query.@Col_bit,
									@ColChar = query.@Col_char,
									@ColDate = query.@Col_date,
									@ColDatetime = query.@Col_datetime,
									@ColDatetime2 = query.@Col_datetime2,
									@ColDatetimeoffset = query.@Col_datetimeoffset,
									@ColDecimal = query.@Col_decimal,
									@ColFloat = query.@Col_float,
									@ColImage = (object)query.Col_image != null ? query.@Col_image.ToArray() : null,
									@ColInt = query.@Col_int,
									@ColMoney = query.@Col_money,
									@ColNchar = query.@Col_nchar,
									@ColNtext = query.@Col_ntext,
									@ColNumeric = query.@Col_numeric,
									@ColNvarchar = query.@Col_nvarchar,
									@ColReal = query.@Col_real,
									@ColRowversion = (object)query.Col_rowversion != null ? query.@Col_rowversion.ToArray() : null,
									@ColSmalldatetime = query.@Col_smalldatetime,
									@ColSmallint = query.@Col_smallint,
									@ColSmallmoney = query.@Col_smallmoney,
									@ColSqlVariant = query.@Col_sql_variant,
									@ColSysname = query.@Col_sysname,
									@ColText = query.@Col_text,
									@ColTime = query.@Col_time,
									@ColTinyint = query.@Col_tinyint,
									@ColUniqueidentifier = query.@Col_uniqueidentifier,
									@ColVarbinary = (object)query.Col_varbinary != null ? query.@Col_varbinary.ToArray() : null,
									@ColVarchar = query.@Col_varchar,
									@ColXml = (object)query.Col_xml != null ? ToXmlDocument(query.@Col_xml) : null
								};	

				this.OnSelectTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);

				return @tabWithPrimaryKeyAsDefault;
			}
		}
		
		public IEnumerable<TabWithPrimaryKeyAsDefault> FindTabWithPrimaryKeyAsDefaults(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default>> callback)
		{
			IEnumerable<TabWithPrimaryKeyAsDefault> @tabWithPrimaryKeyAsDefaults;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyAsDefaults = this.FindTabWithPrimaryKeyAsDefaults(unitOfWork, callback);

					@tabWithPrimaryKeyAsDefaults = @tabWithPrimaryKeyAsDefaults.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@tabWithPrimaryKeyAsDefaults = this.FindTabWithPrimaryKeyAsDefaults(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @tabWithPrimaryKeyAsDefaults;
		}
		
		public IEnumerable<TabWithPrimaryKeyAsDefault> FindTabWithPrimaryKeyAsDefaults(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default>> callback)
		{
			IEnumerable<TabWithPrimaryKeyAsDefault> @tabWithPrimaryKeyAsDefaults;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Tab_with_primary_key_as_defaults);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@tabWithPrimaryKeyAsDefaults = queryable.Select(lo => new TabWithPrimaryKeyAsDefault()
												 {
													// map results to POCOs from L2S objects
													@ColUuidDfPk = lo.@Col_uuid_df_pk,
													@ColBigint = lo.@Col_bigint,
													@ColBinary = (object)lo.Col_binary != null ? lo.@Col_binary.ToArray() : null,
													@ColBit = lo.@Col_bit,
													@ColChar = lo.@Col_char,
													@ColDate = lo.@Col_date,
													@ColDatetime = lo.@Col_datetime,
													@ColDatetime2 = lo.@Col_datetime2,
													@ColDatetimeoffset = lo.@Col_datetimeoffset,
													@ColDecimal = lo.@Col_decimal,
													@ColFloat = lo.@Col_float,
													@ColImage = (object)lo.Col_image != null ? lo.@Col_image.ToArray() : null,
													@ColInt = lo.@Col_int,
													@ColMoney = lo.@Col_money,
													@ColNchar = lo.@Col_nchar,
													@ColNtext = lo.@Col_ntext,
													@ColNumeric = lo.@Col_numeric,
													@ColNvarchar = lo.@Col_nvarchar,
													@ColReal = lo.@Col_real,
													@ColRowversion = (object)lo.Col_rowversion != null ? lo.@Col_rowversion.ToArray() : null,
													@ColSmalldatetime = lo.@Col_smalldatetime,
													@ColSmallint = lo.@Col_smallint,
													@ColSmallmoney = lo.@Col_smallmoney,
													@ColSqlVariant = lo.@Col_sql_variant,
													@ColSysname = lo.@Col_sysname,
													@ColText = lo.@Col_text,
													@ColTime = lo.@Col_time,
													@ColTinyint = lo.@Col_tinyint,
													@ColUniqueidentifier = lo.@Col_uniqueidentifier,
													@ColVarbinary = (object)lo.Col_varbinary != null ? lo.@Col_varbinary.ToArray() : null,
													@ColVarchar = lo.@Col_varchar,
													@ColXml = (object)lo.Col_xml != null ? ToXmlDocument(lo.@Col_xml) : null
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault in @tabWithPrimaryKeyAsDefaults)
				{
					this.OnSelectTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
					
					yield return @tabWithPrimaryKeyAsDefault; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveTabWithPrimaryKeyAsDefault(TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveTabWithPrimaryKeyAsDefault(UnitOfWork.Current, @tabWithPrimaryKeyAsDefault);
			
			return retval;
		}
		
		public bool SaveTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyAsDefault == null)
				throw new ArgumentNullException("tabWithPrimaryKeyAsDefault");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @tabWithPrimaryKeyAsDefault.IsNew;

				if (wasNew)
				{
					this.OnPreInsertTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default();

					wrapper.Disposable.Tab_with_primary_key_as_defaults.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
					
					query = wrapper.Disposable.Tab_with_primary_key_as_defaults.SingleOrDefault(lo => lo.@Col_uuid_df_pk == @tabWithPrimaryKeyAsDefault.@ColUuidDfPk);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@Col_uuid_df_pk = @tabWithPrimaryKeyAsDefault.@ColUuidDfPk;
				query.@Col_bigint = @tabWithPrimaryKeyAsDefault.@ColBigint;
				if ((object)@tabWithPrimaryKeyAsDefault.@ColBinary != null) // prevent implicit conversion of null -> exception
					query.@Col_binary = @tabWithPrimaryKeyAsDefault.@ColBinary;
				query.@Col_bit = @tabWithPrimaryKeyAsDefault.@ColBit;
				query.@Col_char = @tabWithPrimaryKeyAsDefault.@ColChar;
				query.@Col_date = @tabWithPrimaryKeyAsDefault.@ColDate;
				query.@Col_datetime = @tabWithPrimaryKeyAsDefault.@ColDatetime;
				query.@Col_datetime2 = @tabWithPrimaryKeyAsDefault.@ColDatetime2;
				query.@Col_datetimeoffset = @tabWithPrimaryKeyAsDefault.@ColDatetimeoffset;
				query.@Col_decimal = @tabWithPrimaryKeyAsDefault.@ColDecimal;
				query.@Col_float = @tabWithPrimaryKeyAsDefault.@ColFloat;
				if ((object)@tabWithPrimaryKeyAsDefault.@ColImage != null) // prevent implicit conversion of null -> exception
					query.@Col_image = @tabWithPrimaryKeyAsDefault.@ColImage;
				query.@Col_int = @tabWithPrimaryKeyAsDefault.@ColInt;
				query.@Col_money = @tabWithPrimaryKeyAsDefault.@ColMoney;
				query.@Col_nchar = @tabWithPrimaryKeyAsDefault.@ColNchar;
				query.@Col_ntext = @tabWithPrimaryKeyAsDefault.@ColNtext;
				query.@Col_numeric = @tabWithPrimaryKeyAsDefault.@ColNumeric;
				query.@Col_nvarchar = @tabWithPrimaryKeyAsDefault.@ColNvarchar;
				query.@Col_real = @tabWithPrimaryKeyAsDefault.@ColReal;
				if ((object)@tabWithPrimaryKeyAsDefault.@ColRowversion != null) // prevent implicit conversion of null -> exception
					query.@Col_rowversion = @tabWithPrimaryKeyAsDefault.@ColRowversion;
				query.@Col_smalldatetime = @tabWithPrimaryKeyAsDefault.@ColSmalldatetime;
				query.@Col_smallint = @tabWithPrimaryKeyAsDefault.@ColSmallint;
				query.@Col_smallmoney = @tabWithPrimaryKeyAsDefault.@ColSmallmoney;
				query.@Col_sql_variant = @tabWithPrimaryKeyAsDefault.@ColSqlVariant;
				query.@Col_sysname = @tabWithPrimaryKeyAsDefault.@ColSysname;
				query.@Col_text = @tabWithPrimaryKeyAsDefault.@ColText;
				query.@Col_time = @tabWithPrimaryKeyAsDefault.@ColTime;
				query.@Col_tinyint = @tabWithPrimaryKeyAsDefault.@ColTinyint;
				query.@Col_uniqueidentifier = @tabWithPrimaryKeyAsDefault.@ColUniqueidentifier;
				if ((object)@tabWithPrimaryKeyAsDefault.@ColVarbinary != null) // prevent implicit conversion of null -> exception
					query.@Col_varbinary = @tabWithPrimaryKeyAsDefault.@ColVarbinary;
				query.@Col_varchar = @tabWithPrimaryKeyAsDefault.@ColVarchar;
				if ((object)@tabWithPrimaryKeyAsDefault.@ColXml != null) // prevent implicit conversion of null -> exception
					query.@Col_xml = ToXElement(@tabWithPrimaryKeyAsDefault.@ColXml);		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@tabWithPrimaryKeyAsDefault.@ColUuidDfPk = query.@Col_uuid_df_pk;
				@tabWithPrimaryKeyAsDefault.@ColBigint = query.@Col_bigint;
				@tabWithPrimaryKeyAsDefault.@ColBinary = (object)query.@Col_binary != null ? query.@Col_binary.ToArray() : null;
				@tabWithPrimaryKeyAsDefault.@ColBit = query.@Col_bit;
				@tabWithPrimaryKeyAsDefault.@ColChar = query.@Col_char;
				@tabWithPrimaryKeyAsDefault.@ColDate = query.@Col_date;
				@tabWithPrimaryKeyAsDefault.@ColDatetime = query.@Col_datetime;
				@tabWithPrimaryKeyAsDefault.@ColDatetime2 = query.@Col_datetime2;
				@tabWithPrimaryKeyAsDefault.@ColDatetimeoffset = query.@Col_datetimeoffset;
				@tabWithPrimaryKeyAsDefault.@ColDecimal = query.@Col_decimal;
				@tabWithPrimaryKeyAsDefault.@ColFloat = query.@Col_float;
				@tabWithPrimaryKeyAsDefault.@ColImage = (object)query.@Col_image != null ? query.@Col_image.ToArray() : null;
				@tabWithPrimaryKeyAsDefault.@ColInt = query.@Col_int;
				@tabWithPrimaryKeyAsDefault.@ColMoney = query.@Col_money;
				@tabWithPrimaryKeyAsDefault.@ColNchar = query.@Col_nchar;
				@tabWithPrimaryKeyAsDefault.@ColNtext = query.@Col_ntext;
				@tabWithPrimaryKeyAsDefault.@ColNumeric = query.@Col_numeric;
				@tabWithPrimaryKeyAsDefault.@ColNvarchar = query.@Col_nvarchar;
				@tabWithPrimaryKeyAsDefault.@ColReal = query.@Col_real;
				@tabWithPrimaryKeyAsDefault.@ColRowversion = (object)query.@Col_rowversion != null ? query.@Col_rowversion.ToArray() : null;
				@tabWithPrimaryKeyAsDefault.@ColSmalldatetime = query.@Col_smalldatetime;
				@tabWithPrimaryKeyAsDefault.@ColSmallint = query.@Col_smallint;
				@tabWithPrimaryKeyAsDefault.@ColSmallmoney = query.@Col_smallmoney;
				@tabWithPrimaryKeyAsDefault.@ColSqlVariant = query.@Col_sql_variant;
				@tabWithPrimaryKeyAsDefault.@ColSysname = query.@Col_sysname;
				@tabWithPrimaryKeyAsDefault.@ColText = query.@Col_text;
				@tabWithPrimaryKeyAsDefault.@ColTime = query.@Col_time;
				@tabWithPrimaryKeyAsDefault.@ColTinyint = query.@Col_tinyint;
				@tabWithPrimaryKeyAsDefault.@ColUniqueidentifier = query.@Col_uniqueidentifier;
				@tabWithPrimaryKeyAsDefault.@ColVarbinary = (object)query.@Col_varbinary != null ? query.@Col_varbinary.ToArray() : null;
				@tabWithPrimaryKeyAsDefault.@ColVarchar = query.@Col_varchar;
				@tabWithPrimaryKeyAsDefault.@ColXml = (object)query.@Col_xml != null ? ToXmlDocument(query.@Col_xml) : null;
						
				if (wasNew)
				{
					this.OnPostInsertTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
				}
				else
				{
					this.OnPostUpdateTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
				}

				return true;
			}
		}
		
		public bool DiscardTabWithPrimaryKeyAsDefault(TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardTabWithPrimaryKeyAsDefault(UnitOfWork.Current, @tabWithPrimaryKeyAsDefault);
			
			return retval;
		}
		
		public bool DiscardTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_as_default query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyAsDefault == null)
				throw new ArgumentNullException("tabWithPrimaryKeyAsDefault");
				
			if (@tabWithPrimaryKeyAsDefault.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
				
				query = wrapper.Disposable.@Tab_with_primary_key_as_defaults.SingleOrDefault(lo => lo.@Col_uuid_df_pk == @tabWithPrimaryKeyAsDefault.@ColUuidDfPk);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Tab_with_primary_key_as_defaults.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
					
					return false;
				}

				this.OnPostDeleteTabWithPrimaryKeyAsDefault(unitOfWork, @tabWithPrimaryKeyAsDefault);
				
				@tabWithPrimaryKeyAsDefault.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnPostInsertTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnPreUpdateTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnPostUpdateTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnPreDeleteTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnPostDeleteTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnSaveConflictTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnDiscardConflictTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);
		
		partial void OnSelectTabWithPrimaryKeyAsDefault(IUnitOfWork unitOfWork, TabWithPrimaryKeyAsDefault @tabWithPrimaryKeyAsDefault);		

		public TabWithPrimaryKeyWithDifferentIdentity LoadTabWithPrimaryKeyWithDifferentIdentity(Int32 @colIntPk)
		{
			TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyWithDifferentIdentity = this.LoadTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @colIntPk);

					unitOfWork.Complete();
				}
			}
			else
				@tabWithPrimaryKeyWithDifferentIdentity = this.LoadTabWithPrimaryKeyWithDifferentIdentity(UnitOfWork.Current, @colIntPk);
			
			return @tabWithPrimaryKeyWithDifferentIdentity;
		}
		
		public TabWithPrimaryKeyWithDifferentIdentity LoadTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, Int32 @colIntPk)
		{			
			TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Tab_with_primary_key_with_different_identities.SingleOrDefault(lo => lo.@Col_int_pk == @colIntPk);

				if ((object)query == null)
					return null; // does not exist
				
				@tabWithPrimaryKeyWithDifferentIdentity = new TabWithPrimaryKeyWithDifferentIdentity()
								{
									// map result to POCO from L2S object
									@ColIntPk = query.@Col_int_pk,
									@ColIntId = query.@Col_int_id,
									@ColBigint = query.@Col_bigint,
									@ColBinary = (object)query.Col_binary != null ? query.@Col_binary.ToArray() : null,
									@ColBit = query.@Col_bit,
									@ColChar = query.@Col_char,
									@ColDate = query.@Col_date,
									@ColDatetime = query.@Col_datetime,
									@ColDatetime2 = query.@Col_datetime2,
									@ColDatetimeoffset = query.@Col_datetimeoffset,
									@ColDecimal = query.@Col_decimal,
									@ColFloat = query.@Col_float,
									@ColImage = (object)query.Col_image != null ? query.@Col_image.ToArray() : null,
									@ColInt = query.@Col_int,
									@ColMoney = query.@Col_money,
									@ColNchar = query.@Col_nchar,
									@ColNtext = query.@Col_ntext,
									@ColNumeric = query.@Col_numeric,
									@ColNvarchar = query.@Col_nvarchar,
									@ColReal = query.@Col_real,
									@ColRowversion = (object)query.Col_rowversion != null ? query.@Col_rowversion.ToArray() : null,
									@ColSmalldatetime = query.@Col_smalldatetime,
									@ColSmallint = query.@Col_smallint,
									@ColSmallmoney = query.@Col_smallmoney,
									@ColSqlVariant = query.@Col_sql_variant,
									@ColSysname = query.@Col_sysname,
									@ColText = query.@Col_text,
									@ColTime = query.@Col_time,
									@ColTinyint = query.@Col_tinyint,
									@ColUniqueidentifier = query.@Col_uniqueidentifier,
									@ColVarbinary = (object)query.Col_varbinary != null ? query.@Col_varbinary.ToArray() : null,
									@ColVarchar = query.@Col_varchar,
									@ColXml = (object)query.Col_xml != null ? ToXmlDocument(query.@Col_xml) : null
								};	

				this.OnSelectTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);

				return @tabWithPrimaryKeyWithDifferentIdentity;
			}
		}
		
		public IEnumerable<TabWithPrimaryKeyWithDifferentIdentity> FindTabWithPrimaryKeyWithDifferentIdentities(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity>> callback)
		{
			IEnumerable<TabWithPrimaryKeyWithDifferentIdentity> @tabWithPrimaryKeyWithDifferentIdentities;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyWithDifferentIdentities = this.FindTabWithPrimaryKeyWithDifferentIdentities(unitOfWork, callback);

					@tabWithPrimaryKeyWithDifferentIdentities = @tabWithPrimaryKeyWithDifferentIdentities.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@tabWithPrimaryKeyWithDifferentIdentities = this.FindTabWithPrimaryKeyWithDifferentIdentities(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @tabWithPrimaryKeyWithDifferentIdentities;
		}
		
		public IEnumerable<TabWithPrimaryKeyWithDifferentIdentity> FindTabWithPrimaryKeyWithDifferentIdentities(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity>> callback)
		{
			IEnumerable<TabWithPrimaryKeyWithDifferentIdentity> @tabWithPrimaryKeyWithDifferentIdentities;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Tab_with_primary_key_with_different_identities);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@tabWithPrimaryKeyWithDifferentIdentities = queryable.Select(lo => new TabWithPrimaryKeyWithDifferentIdentity()
												 {
													// map results to POCOs from L2S objects
													@ColIntPk = lo.@Col_int_pk,
													@ColIntId = lo.@Col_int_id,
													@ColBigint = lo.@Col_bigint,
													@ColBinary = (object)lo.Col_binary != null ? lo.@Col_binary.ToArray() : null,
													@ColBit = lo.@Col_bit,
													@ColChar = lo.@Col_char,
													@ColDate = lo.@Col_date,
													@ColDatetime = lo.@Col_datetime,
													@ColDatetime2 = lo.@Col_datetime2,
													@ColDatetimeoffset = lo.@Col_datetimeoffset,
													@ColDecimal = lo.@Col_decimal,
													@ColFloat = lo.@Col_float,
													@ColImage = (object)lo.Col_image != null ? lo.@Col_image.ToArray() : null,
													@ColInt = lo.@Col_int,
													@ColMoney = lo.@Col_money,
													@ColNchar = lo.@Col_nchar,
													@ColNtext = lo.@Col_ntext,
													@ColNumeric = lo.@Col_numeric,
													@ColNvarchar = lo.@Col_nvarchar,
													@ColReal = lo.@Col_real,
													@ColRowversion = (object)lo.Col_rowversion != null ? lo.@Col_rowversion.ToArray() : null,
													@ColSmalldatetime = lo.@Col_smalldatetime,
													@ColSmallint = lo.@Col_smallint,
													@ColSmallmoney = lo.@Col_smallmoney,
													@ColSqlVariant = lo.@Col_sql_variant,
													@ColSysname = lo.@Col_sysname,
													@ColText = lo.@Col_text,
													@ColTime = lo.@Col_time,
													@ColTinyint = lo.@Col_tinyint,
													@ColUniqueidentifier = lo.@Col_uniqueidentifier,
													@ColVarbinary = (object)lo.Col_varbinary != null ? lo.@Col_varbinary.ToArray() : null,
													@ColVarchar = lo.@Col_varchar,
													@ColXml = (object)lo.Col_xml != null ? ToXmlDocument(lo.@Col_xml) : null
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity in @tabWithPrimaryKeyWithDifferentIdentities)
				{
					this.OnSelectTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
					
					yield return @tabWithPrimaryKeyWithDifferentIdentity; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveTabWithPrimaryKeyWithDifferentIdentity(TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveTabWithPrimaryKeyWithDifferentIdentity(UnitOfWork.Current, @tabWithPrimaryKeyWithDifferentIdentity);
			
			return retval;
		}
		
		public bool SaveTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyWithDifferentIdentity == null)
				throw new ArgumentNullException("tabWithPrimaryKeyWithDifferentIdentity");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @tabWithPrimaryKeyWithDifferentIdentity.IsNew;

				if (wasNew)
				{
					this.OnPreInsertTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity();

					wrapper.Disposable.Tab_with_primary_key_with_different_identities.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
					
					query = wrapper.Disposable.Tab_with_primary_key_with_different_identities.SingleOrDefault(lo => lo.@Col_int_pk == @tabWithPrimaryKeyWithDifferentIdentity.@ColIntPk);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@Col_int_pk = @tabWithPrimaryKeyWithDifferentIdentity.@ColIntPk;
				query.@Col_int_id = @tabWithPrimaryKeyWithDifferentIdentity.@ColIntId;
				query.@Col_bigint = @tabWithPrimaryKeyWithDifferentIdentity.@ColBigint;
				if ((object)@tabWithPrimaryKeyWithDifferentIdentity.@ColBinary != null) // prevent implicit conversion of null -> exception
					query.@Col_binary = @tabWithPrimaryKeyWithDifferentIdentity.@ColBinary;
				query.@Col_bit = @tabWithPrimaryKeyWithDifferentIdentity.@ColBit;
				query.@Col_char = @tabWithPrimaryKeyWithDifferentIdentity.@ColChar;
				query.@Col_date = @tabWithPrimaryKeyWithDifferentIdentity.@ColDate;
				query.@Col_datetime = @tabWithPrimaryKeyWithDifferentIdentity.@ColDatetime;
				query.@Col_datetime2 = @tabWithPrimaryKeyWithDifferentIdentity.@ColDatetime2;
				query.@Col_datetimeoffset = @tabWithPrimaryKeyWithDifferentIdentity.@ColDatetimeoffset;
				query.@Col_decimal = @tabWithPrimaryKeyWithDifferentIdentity.@ColDecimal;
				query.@Col_float = @tabWithPrimaryKeyWithDifferentIdentity.@ColFloat;
				if ((object)@tabWithPrimaryKeyWithDifferentIdentity.@ColImage != null) // prevent implicit conversion of null -> exception
					query.@Col_image = @tabWithPrimaryKeyWithDifferentIdentity.@ColImage;
				query.@Col_int = @tabWithPrimaryKeyWithDifferentIdentity.@ColInt;
				query.@Col_money = @tabWithPrimaryKeyWithDifferentIdentity.@ColMoney;
				query.@Col_nchar = @tabWithPrimaryKeyWithDifferentIdentity.@ColNchar;
				query.@Col_ntext = @tabWithPrimaryKeyWithDifferentIdentity.@ColNtext;
				query.@Col_numeric = @tabWithPrimaryKeyWithDifferentIdentity.@ColNumeric;
				query.@Col_nvarchar = @tabWithPrimaryKeyWithDifferentIdentity.@ColNvarchar;
				query.@Col_real = @tabWithPrimaryKeyWithDifferentIdentity.@ColReal;
				if ((object)@tabWithPrimaryKeyWithDifferentIdentity.@ColRowversion != null) // prevent implicit conversion of null -> exception
					query.@Col_rowversion = @tabWithPrimaryKeyWithDifferentIdentity.@ColRowversion;
				query.@Col_smalldatetime = @tabWithPrimaryKeyWithDifferentIdentity.@ColSmalldatetime;
				query.@Col_smallint = @tabWithPrimaryKeyWithDifferentIdentity.@ColSmallint;
				query.@Col_smallmoney = @tabWithPrimaryKeyWithDifferentIdentity.@ColSmallmoney;
				query.@Col_sql_variant = @tabWithPrimaryKeyWithDifferentIdentity.@ColSqlVariant;
				query.@Col_sysname = @tabWithPrimaryKeyWithDifferentIdentity.@ColSysname;
				query.@Col_text = @tabWithPrimaryKeyWithDifferentIdentity.@ColText;
				query.@Col_time = @tabWithPrimaryKeyWithDifferentIdentity.@ColTime;
				query.@Col_tinyint = @tabWithPrimaryKeyWithDifferentIdentity.@ColTinyint;
				query.@Col_uniqueidentifier = @tabWithPrimaryKeyWithDifferentIdentity.@ColUniqueidentifier;
				if ((object)@tabWithPrimaryKeyWithDifferentIdentity.@ColVarbinary != null) // prevent implicit conversion of null -> exception
					query.@Col_varbinary = @tabWithPrimaryKeyWithDifferentIdentity.@ColVarbinary;
				query.@Col_varchar = @tabWithPrimaryKeyWithDifferentIdentity.@ColVarchar;
				if ((object)@tabWithPrimaryKeyWithDifferentIdentity.@ColXml != null) // prevent implicit conversion of null -> exception
					query.@Col_xml = ToXElement(@tabWithPrimaryKeyWithDifferentIdentity.@ColXml);		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@tabWithPrimaryKeyWithDifferentIdentity.@ColIntPk = query.@Col_int_pk;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColIntId = query.@Col_int_id;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColBigint = query.@Col_bigint;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColBinary = (object)query.@Col_binary != null ? query.@Col_binary.ToArray() : null;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColBit = query.@Col_bit;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColChar = query.@Col_char;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColDate = query.@Col_date;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColDatetime = query.@Col_datetime;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColDatetime2 = query.@Col_datetime2;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColDatetimeoffset = query.@Col_datetimeoffset;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColDecimal = query.@Col_decimal;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColFloat = query.@Col_float;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColImage = (object)query.@Col_image != null ? query.@Col_image.ToArray() : null;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColInt = query.@Col_int;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColMoney = query.@Col_money;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColNchar = query.@Col_nchar;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColNtext = query.@Col_ntext;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColNumeric = query.@Col_numeric;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColNvarchar = query.@Col_nvarchar;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColReal = query.@Col_real;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColRowversion = (object)query.@Col_rowversion != null ? query.@Col_rowversion.ToArray() : null;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColSmalldatetime = query.@Col_smalldatetime;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColSmallint = query.@Col_smallint;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColSmallmoney = query.@Col_smallmoney;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColSqlVariant = query.@Col_sql_variant;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColSysname = query.@Col_sysname;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColText = query.@Col_text;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColTime = query.@Col_time;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColTinyint = query.@Col_tinyint;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColUniqueidentifier = query.@Col_uniqueidentifier;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColVarbinary = (object)query.@Col_varbinary != null ? query.@Col_varbinary.ToArray() : null;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColVarchar = query.@Col_varchar;
				@tabWithPrimaryKeyWithDifferentIdentity.@ColXml = (object)query.@Col_xml != null ? ToXmlDocument(query.@Col_xml) : null;
						
				if (wasNew)
				{
					this.OnPostInsertTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
				}
				else
				{
					this.OnPostUpdateTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
				}

				return true;
			}
		}
		
		public bool DiscardTabWithPrimaryKeyWithDifferentIdentity(TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardTabWithPrimaryKeyWithDifferentIdentity(UnitOfWork.Current, @tabWithPrimaryKeyWithDifferentIdentity);
			
			return retval;
		}
		
		public bool DiscardTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_with_different_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyWithDifferentIdentity == null)
				throw new ArgumentNullException("tabWithPrimaryKeyWithDifferentIdentity");
				
			if (@tabWithPrimaryKeyWithDifferentIdentity.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
				
				query = wrapper.Disposable.@Tab_with_primary_key_with_different_identities.SingleOrDefault(lo => lo.@Col_int_pk == @tabWithPrimaryKeyWithDifferentIdentity.@ColIntPk);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Tab_with_primary_key_with_different_identities.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
					
					return false;
				}

				this.OnPostDeleteTabWithPrimaryKeyWithDifferentIdentity(unitOfWork, @tabWithPrimaryKeyWithDifferentIdentity);
				
				@tabWithPrimaryKeyWithDifferentIdentity.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnPostInsertTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnPreUpdateTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnPostUpdateTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnPreDeleteTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnPostDeleteTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnSaveConflictTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnDiscardConflictTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);
		
		partial void OnSelectTabWithPrimaryKeyWithDifferentIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyWithDifferentIdentity @tabWithPrimaryKeyWithDifferentIdentity);		

		public TabWithNoPrimaryKeyWithIdentity LoadTabWithNoPrimaryKeyWithIdentity(Int32 @colIntId, Int64 @colBigint, Byte[] @colBinary, Boolean @colBit, String @colChar, DateTime @colDate, DateTime @colDatetime, DateTime @colDatetime2, DateTimeOffset @colDatetimeoffset, Decimal @colDecimal, Double @colFloat, Byte[] @colImage, Int32 @colInt, Decimal @colMoney, String @colNchar, String @colNtext, Decimal @colNumeric, String @colNvarchar, Single @colReal, Byte[] @colRowversion, DateTime @colSmalldatetime, Int16 @colSmallint, Decimal @colSmallmoney, Object @colSqlVariant, String @colSysname, String @colText, TimeSpan @colTime, Byte @colTinyint, Guid @colUniqueidentifier, Byte[] @colVarbinary, String @colVarchar, XmlDocument @colXml)
		{
			TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithNoPrimaryKeyWithIdentity = this.LoadTabWithNoPrimaryKeyWithIdentity(unitOfWork, @colIntId, @colBigint, @colBinary, @colBit, @colChar, @colDate, @colDatetime, @colDatetime2, @colDatetimeoffset, @colDecimal, @colFloat, @colImage, @colInt, @colMoney, @colNchar, @colNtext, @colNumeric, @colNvarchar, @colReal, @colRowversion, @colSmalldatetime, @colSmallint, @colSmallmoney, @colSqlVariant, @colSysname, @colText, @colTime, @colTinyint, @colUniqueidentifier, @colVarbinary, @colVarchar, @colXml);

					unitOfWork.Complete();
				}
			}
			else
				@tabWithNoPrimaryKeyWithIdentity = this.LoadTabWithNoPrimaryKeyWithIdentity(UnitOfWork.Current, @colIntId, @colBigint, @colBinary, @colBit, @colChar, @colDate, @colDatetime, @colDatetime2, @colDatetimeoffset, @colDecimal, @colFloat, @colImage, @colInt, @colMoney, @colNchar, @colNtext, @colNumeric, @colNvarchar, @colReal, @colRowversion, @colSmalldatetime, @colSmallint, @colSmallmoney, @colSqlVariant, @colSysname, @colText, @colTime, @colTinyint, @colUniqueidentifier, @colVarbinary, @colVarchar, @colXml);
			
			return @tabWithNoPrimaryKeyWithIdentity;
		}
		
		public TabWithNoPrimaryKeyWithIdentity LoadTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, Int32 @colIntId, Int64 @colBigint, Byte[] @colBinary, Boolean @colBit, String @colChar, DateTime @colDate, DateTime @colDatetime, DateTime @colDatetime2, DateTimeOffset @colDatetimeoffset, Decimal @colDecimal, Double @colFloat, Byte[] @colImage, Int32 @colInt, Decimal @colMoney, String @colNchar, String @colNtext, Decimal @colNumeric, String @colNvarchar, Single @colReal, Byte[] @colRowversion, DateTime @colSmalldatetime, Int16 @colSmallint, Decimal @colSmallmoney, Object @colSqlVariant, String @colSysname, String @colText, TimeSpan @colTime, Byte @colTinyint, Guid @colUniqueidentifier, Byte[] @colVarbinary, String @colVarchar, XmlDocument @colXml)
		{			
			TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Tab_with_no_primary_key_with_identities.SingleOrDefault(lo => lo.@Col_int_id == @colIntId && lo.@Col_bigint == @colBigint && lo.@Col_binary.ToArray() == @colBinary && lo.@Col_bit == @colBit && lo.@Col_char == @colChar && lo.@Col_date == @colDate && lo.@Col_datetime == @colDatetime && lo.@Col_datetime2 == @colDatetime2 && lo.@Col_datetimeoffset == @colDatetimeoffset && lo.@Col_decimal == @colDecimal && lo.@Col_float == @colFloat && lo.@Col_image.ToArray() == @colImage && lo.@Col_int == @colInt && lo.@Col_money == @colMoney && lo.@Col_nchar == @colNchar && lo.@Col_ntext == @colNtext && lo.@Col_numeric == @colNumeric && lo.@Col_nvarchar == @colNvarchar && lo.@Col_real == @colReal && lo.@Col_rowversion.ToArray() == @colRowversion && lo.@Col_smalldatetime == @colSmalldatetime && lo.@Col_smallint == @colSmallint && lo.@Col_smallmoney == @colSmallmoney && lo.@Col_sql_variant == @colSqlVariant && lo.@Col_sysname == @colSysname && lo.@Col_text == @colText && lo.@Col_time == @colTime && lo.@Col_tinyint == @colTinyint && lo.@Col_uniqueidentifier == @colUniqueidentifier && lo.@Col_varbinary.ToArray() == @colVarbinary && lo.@Col_varchar == @colVarchar && lo.@Col_xml == ToXElement(@colXml));

				if ((object)query == null)
					return null; // does not exist
				
				@tabWithNoPrimaryKeyWithIdentity = new TabWithNoPrimaryKeyWithIdentity()
								{
									// map result to POCO from L2S object
									@ColIntId = query.@Col_int_id,
									@ColBigint = query.@Col_bigint,
									@ColBinary = (object)query.Col_binary != null ? query.@Col_binary.ToArray() : null,
									@ColBit = query.@Col_bit,
									@ColChar = query.@Col_char,
									@ColDate = query.@Col_date,
									@ColDatetime = query.@Col_datetime,
									@ColDatetime2 = query.@Col_datetime2,
									@ColDatetimeoffset = query.@Col_datetimeoffset,
									@ColDecimal = query.@Col_decimal,
									@ColFloat = query.@Col_float,
									@ColImage = (object)query.Col_image != null ? query.@Col_image.ToArray() : null,
									@ColInt = query.@Col_int,
									@ColMoney = query.@Col_money,
									@ColNchar = query.@Col_nchar,
									@ColNtext = query.@Col_ntext,
									@ColNumeric = query.@Col_numeric,
									@ColNvarchar = query.@Col_nvarchar,
									@ColReal = query.@Col_real,
									@ColRowversion = (object)query.Col_rowversion != null ? query.@Col_rowversion.ToArray() : null,
									@ColSmalldatetime = query.@Col_smalldatetime,
									@ColSmallint = query.@Col_smallint,
									@ColSmallmoney = query.@Col_smallmoney,
									@ColSqlVariant = query.@Col_sql_variant,
									@ColSysname = query.@Col_sysname,
									@ColText = query.@Col_text,
									@ColTime = query.@Col_time,
									@ColTinyint = query.@Col_tinyint,
									@ColUniqueidentifier = query.@Col_uniqueidentifier,
									@ColVarbinary = (object)query.Col_varbinary != null ? query.@Col_varbinary.ToArray() : null,
									@ColVarchar = query.@Col_varchar,
									@ColXml = (object)query.Col_xml != null ? ToXmlDocument(query.@Col_xml) : null
								};	

				this.OnSelectTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);

				return @tabWithNoPrimaryKeyWithIdentity;
			}
		}
		
		public IEnumerable<TabWithNoPrimaryKeyWithIdentity> FindTabWithNoPrimaryKeyWithIdentities(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity>> callback)
		{
			IEnumerable<TabWithNoPrimaryKeyWithIdentity> @tabWithNoPrimaryKeyWithIdentities;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithNoPrimaryKeyWithIdentities = this.FindTabWithNoPrimaryKeyWithIdentities(unitOfWork, callback);

					@tabWithNoPrimaryKeyWithIdentities = @tabWithNoPrimaryKeyWithIdentities.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@tabWithNoPrimaryKeyWithIdentities = this.FindTabWithNoPrimaryKeyWithIdentities(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @tabWithNoPrimaryKeyWithIdentities;
		}
		
		public IEnumerable<TabWithNoPrimaryKeyWithIdentity> FindTabWithNoPrimaryKeyWithIdentities(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity>> callback)
		{
			IEnumerable<TabWithNoPrimaryKeyWithIdentity> @tabWithNoPrimaryKeyWithIdentities;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Tab_with_no_primary_key_with_identities);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@tabWithNoPrimaryKeyWithIdentities = queryable.Select(lo => new TabWithNoPrimaryKeyWithIdentity()
												 {
													// map results to POCOs from L2S objects
													@ColIntId = lo.@Col_int_id,
													@ColBigint = lo.@Col_bigint,
													@ColBinary = (object)lo.Col_binary != null ? lo.@Col_binary.ToArray() : null,
													@ColBit = lo.@Col_bit,
													@ColChar = lo.@Col_char,
													@ColDate = lo.@Col_date,
													@ColDatetime = lo.@Col_datetime,
													@ColDatetime2 = lo.@Col_datetime2,
													@ColDatetimeoffset = lo.@Col_datetimeoffset,
													@ColDecimal = lo.@Col_decimal,
													@ColFloat = lo.@Col_float,
													@ColImage = (object)lo.Col_image != null ? lo.@Col_image.ToArray() : null,
													@ColInt = lo.@Col_int,
													@ColMoney = lo.@Col_money,
													@ColNchar = lo.@Col_nchar,
													@ColNtext = lo.@Col_ntext,
													@ColNumeric = lo.@Col_numeric,
													@ColNvarchar = lo.@Col_nvarchar,
													@ColReal = lo.@Col_real,
													@ColRowversion = (object)lo.Col_rowversion != null ? lo.@Col_rowversion.ToArray() : null,
													@ColSmalldatetime = lo.@Col_smalldatetime,
													@ColSmallint = lo.@Col_smallint,
													@ColSmallmoney = lo.@Col_smallmoney,
													@ColSqlVariant = lo.@Col_sql_variant,
													@ColSysname = lo.@Col_sysname,
													@ColText = lo.@Col_text,
													@ColTime = lo.@Col_time,
													@ColTinyint = lo.@Col_tinyint,
													@ColUniqueidentifier = lo.@Col_uniqueidentifier,
													@ColVarbinary = (object)lo.Col_varbinary != null ? lo.@Col_varbinary.ToArray() : null,
													@ColVarchar = lo.@Col_varchar,
													@ColXml = (object)lo.Col_xml != null ? ToXmlDocument(lo.@Col_xml) : null
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity in @tabWithNoPrimaryKeyWithIdentities)
				{
					this.OnSelectTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
					
					yield return @tabWithNoPrimaryKeyWithIdentity; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveTabWithNoPrimaryKeyWithIdentity(TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveTabWithNoPrimaryKeyWithIdentity(UnitOfWork.Current, @tabWithNoPrimaryKeyWithIdentity);
			
			return retval;
		}
		
		public bool SaveTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithNoPrimaryKeyWithIdentity == null)
				throw new ArgumentNullException("tabWithNoPrimaryKeyWithIdentity");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @tabWithNoPrimaryKeyWithIdentity.IsNew;

				if (wasNew)
				{
					this.OnPreInsertTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity();

					wrapper.Disposable.Tab_with_no_primary_key_with_identities.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
					
					query = wrapper.Disposable.Tab_with_no_primary_key_with_identities.SingleOrDefault(lo => lo.@Col_int_id == @tabWithNoPrimaryKeyWithIdentity.@ColIntId && lo.@Col_bigint == @tabWithNoPrimaryKeyWithIdentity.@ColBigint && lo.@Col_binary.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColBinary && lo.@Col_bit == @tabWithNoPrimaryKeyWithIdentity.@ColBit && lo.@Col_char == @tabWithNoPrimaryKeyWithIdentity.@ColChar && lo.@Col_date == @tabWithNoPrimaryKeyWithIdentity.@ColDate && lo.@Col_datetime == @tabWithNoPrimaryKeyWithIdentity.@ColDatetime && lo.@Col_datetime2 == @tabWithNoPrimaryKeyWithIdentity.@ColDatetime2 && lo.@Col_datetimeoffset == @tabWithNoPrimaryKeyWithIdentity.@ColDatetimeoffset && lo.@Col_decimal == @tabWithNoPrimaryKeyWithIdentity.@ColDecimal && lo.@Col_float == @tabWithNoPrimaryKeyWithIdentity.@ColFloat && lo.@Col_image.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColImage && lo.@Col_int == @tabWithNoPrimaryKeyWithIdentity.@ColInt && lo.@Col_money == @tabWithNoPrimaryKeyWithIdentity.@ColMoney && lo.@Col_nchar == @tabWithNoPrimaryKeyWithIdentity.@ColNchar && lo.@Col_ntext == @tabWithNoPrimaryKeyWithIdentity.@ColNtext && lo.@Col_numeric == @tabWithNoPrimaryKeyWithIdentity.@ColNumeric && lo.@Col_nvarchar == @tabWithNoPrimaryKeyWithIdentity.@ColNvarchar && lo.@Col_real == @tabWithNoPrimaryKeyWithIdentity.@ColReal && lo.@Col_rowversion.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColRowversion && lo.@Col_smalldatetime == @tabWithNoPrimaryKeyWithIdentity.@ColSmalldatetime && lo.@Col_smallint == @tabWithNoPrimaryKeyWithIdentity.@ColSmallint && lo.@Col_smallmoney == @tabWithNoPrimaryKeyWithIdentity.@ColSmallmoney && lo.@Col_sql_variant == @tabWithNoPrimaryKeyWithIdentity.@ColSqlVariant && lo.@Col_sysname == @tabWithNoPrimaryKeyWithIdentity.@ColSysname && lo.@Col_text == @tabWithNoPrimaryKeyWithIdentity.@ColText && lo.@Col_time == @tabWithNoPrimaryKeyWithIdentity.@ColTime && lo.@Col_tinyint == @tabWithNoPrimaryKeyWithIdentity.@ColTinyint && lo.@Col_uniqueidentifier == @tabWithNoPrimaryKeyWithIdentity.@ColUniqueidentifier && lo.@Col_varbinary.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColVarbinary && lo.@Col_varchar == @tabWithNoPrimaryKeyWithIdentity.@ColVarchar && lo.@Col_xml == ToXElement(@tabWithNoPrimaryKeyWithIdentity.@ColXml));

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@Col_int_id = @tabWithNoPrimaryKeyWithIdentity.@ColIntId;
				query.@Col_bigint = @tabWithNoPrimaryKeyWithIdentity.@ColBigint;
				if ((object)@tabWithNoPrimaryKeyWithIdentity.@ColBinary != null) // prevent implicit conversion of null -> exception
					query.@Col_binary = @tabWithNoPrimaryKeyWithIdentity.@ColBinary;
				query.@Col_bit = @tabWithNoPrimaryKeyWithIdentity.@ColBit;
				query.@Col_char = @tabWithNoPrimaryKeyWithIdentity.@ColChar;
				query.@Col_date = @tabWithNoPrimaryKeyWithIdentity.@ColDate;
				query.@Col_datetime = @tabWithNoPrimaryKeyWithIdentity.@ColDatetime;
				query.@Col_datetime2 = @tabWithNoPrimaryKeyWithIdentity.@ColDatetime2;
				query.@Col_datetimeoffset = @tabWithNoPrimaryKeyWithIdentity.@ColDatetimeoffset;
				query.@Col_decimal = @tabWithNoPrimaryKeyWithIdentity.@ColDecimal;
				query.@Col_float = @tabWithNoPrimaryKeyWithIdentity.@ColFloat;
				if ((object)@tabWithNoPrimaryKeyWithIdentity.@ColImage != null) // prevent implicit conversion of null -> exception
					query.@Col_image = @tabWithNoPrimaryKeyWithIdentity.@ColImage;
				query.@Col_int = @tabWithNoPrimaryKeyWithIdentity.@ColInt;
				query.@Col_money = @tabWithNoPrimaryKeyWithIdentity.@ColMoney;
				query.@Col_nchar = @tabWithNoPrimaryKeyWithIdentity.@ColNchar;
				query.@Col_ntext = @tabWithNoPrimaryKeyWithIdentity.@ColNtext;
				query.@Col_numeric = @tabWithNoPrimaryKeyWithIdentity.@ColNumeric;
				query.@Col_nvarchar = @tabWithNoPrimaryKeyWithIdentity.@ColNvarchar;
				query.@Col_real = @tabWithNoPrimaryKeyWithIdentity.@ColReal;
				if ((object)@tabWithNoPrimaryKeyWithIdentity.@ColRowversion != null) // prevent implicit conversion of null -> exception
					query.@Col_rowversion = @tabWithNoPrimaryKeyWithIdentity.@ColRowversion;
				query.@Col_smalldatetime = @tabWithNoPrimaryKeyWithIdentity.@ColSmalldatetime;
				query.@Col_smallint = @tabWithNoPrimaryKeyWithIdentity.@ColSmallint;
				query.@Col_smallmoney = @tabWithNoPrimaryKeyWithIdentity.@ColSmallmoney;
				query.@Col_sql_variant = @tabWithNoPrimaryKeyWithIdentity.@ColSqlVariant;
				query.@Col_sysname = @tabWithNoPrimaryKeyWithIdentity.@ColSysname;
				query.@Col_text = @tabWithNoPrimaryKeyWithIdentity.@ColText;
				query.@Col_time = @tabWithNoPrimaryKeyWithIdentity.@ColTime;
				query.@Col_tinyint = @tabWithNoPrimaryKeyWithIdentity.@ColTinyint;
				query.@Col_uniqueidentifier = @tabWithNoPrimaryKeyWithIdentity.@ColUniqueidentifier;
				if ((object)@tabWithNoPrimaryKeyWithIdentity.@ColVarbinary != null) // prevent implicit conversion of null -> exception
					query.@Col_varbinary = @tabWithNoPrimaryKeyWithIdentity.@ColVarbinary;
				query.@Col_varchar = @tabWithNoPrimaryKeyWithIdentity.@ColVarchar;
				if ((object)@tabWithNoPrimaryKeyWithIdentity.@ColXml != null) // prevent implicit conversion of null -> exception
					query.@Col_xml = ToXElement(@tabWithNoPrimaryKeyWithIdentity.@ColXml);		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@tabWithNoPrimaryKeyWithIdentity.@ColIntId = query.@Col_int_id;
				@tabWithNoPrimaryKeyWithIdentity.@ColBigint = query.@Col_bigint;
				@tabWithNoPrimaryKeyWithIdentity.@ColBinary = (object)query.@Col_binary != null ? query.@Col_binary.ToArray() : null;
				@tabWithNoPrimaryKeyWithIdentity.@ColBit = query.@Col_bit;
				@tabWithNoPrimaryKeyWithIdentity.@ColChar = query.@Col_char;
				@tabWithNoPrimaryKeyWithIdentity.@ColDate = query.@Col_date;
				@tabWithNoPrimaryKeyWithIdentity.@ColDatetime = query.@Col_datetime;
				@tabWithNoPrimaryKeyWithIdentity.@ColDatetime2 = query.@Col_datetime2;
				@tabWithNoPrimaryKeyWithIdentity.@ColDatetimeoffset = query.@Col_datetimeoffset;
				@tabWithNoPrimaryKeyWithIdentity.@ColDecimal = query.@Col_decimal;
				@tabWithNoPrimaryKeyWithIdentity.@ColFloat = query.@Col_float;
				@tabWithNoPrimaryKeyWithIdentity.@ColImage = (object)query.@Col_image != null ? query.@Col_image.ToArray() : null;
				@tabWithNoPrimaryKeyWithIdentity.@ColInt = query.@Col_int;
				@tabWithNoPrimaryKeyWithIdentity.@ColMoney = query.@Col_money;
				@tabWithNoPrimaryKeyWithIdentity.@ColNchar = query.@Col_nchar;
				@tabWithNoPrimaryKeyWithIdentity.@ColNtext = query.@Col_ntext;
				@tabWithNoPrimaryKeyWithIdentity.@ColNumeric = query.@Col_numeric;
				@tabWithNoPrimaryKeyWithIdentity.@ColNvarchar = query.@Col_nvarchar;
				@tabWithNoPrimaryKeyWithIdentity.@ColReal = query.@Col_real;
				@tabWithNoPrimaryKeyWithIdentity.@ColRowversion = (object)query.@Col_rowversion != null ? query.@Col_rowversion.ToArray() : null;
				@tabWithNoPrimaryKeyWithIdentity.@ColSmalldatetime = query.@Col_smalldatetime;
				@tabWithNoPrimaryKeyWithIdentity.@ColSmallint = query.@Col_smallint;
				@tabWithNoPrimaryKeyWithIdentity.@ColSmallmoney = query.@Col_smallmoney;
				@tabWithNoPrimaryKeyWithIdentity.@ColSqlVariant = query.@Col_sql_variant;
				@tabWithNoPrimaryKeyWithIdentity.@ColSysname = query.@Col_sysname;
				@tabWithNoPrimaryKeyWithIdentity.@ColText = query.@Col_text;
				@tabWithNoPrimaryKeyWithIdentity.@ColTime = query.@Col_time;
				@tabWithNoPrimaryKeyWithIdentity.@ColTinyint = query.@Col_tinyint;
				@tabWithNoPrimaryKeyWithIdentity.@ColUniqueidentifier = query.@Col_uniqueidentifier;
				@tabWithNoPrimaryKeyWithIdentity.@ColVarbinary = (object)query.@Col_varbinary != null ? query.@Col_varbinary.ToArray() : null;
				@tabWithNoPrimaryKeyWithIdentity.@ColVarchar = query.@Col_varchar;
				@tabWithNoPrimaryKeyWithIdentity.@ColXml = (object)query.@Col_xml != null ? ToXmlDocument(query.@Col_xml) : null;
						
				if (wasNew)
				{
					this.OnPostInsertTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
				}
				else
				{
					this.OnPostUpdateTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
				}

				return true;
			}
		}
		
		public bool DiscardTabWithNoPrimaryKeyWithIdentity(TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardTabWithNoPrimaryKeyWithIdentity(UnitOfWork.Current, @tabWithNoPrimaryKeyWithIdentity);
			
			return retval;
		}
		
		public bool DiscardTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_no_primary_key_with_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithNoPrimaryKeyWithIdentity == null)
				throw new ArgumentNullException("tabWithNoPrimaryKeyWithIdentity");
				
			if (@tabWithNoPrimaryKeyWithIdentity.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
				
				query = wrapper.Disposable.@Tab_with_no_primary_key_with_identities.SingleOrDefault(lo => lo.@Col_int_id == @tabWithNoPrimaryKeyWithIdentity.@ColIntId && lo.@Col_bigint == @tabWithNoPrimaryKeyWithIdentity.@ColBigint && lo.@Col_binary.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColBinary && lo.@Col_bit == @tabWithNoPrimaryKeyWithIdentity.@ColBit && lo.@Col_char == @tabWithNoPrimaryKeyWithIdentity.@ColChar && lo.@Col_date == @tabWithNoPrimaryKeyWithIdentity.@ColDate && lo.@Col_datetime == @tabWithNoPrimaryKeyWithIdentity.@ColDatetime && lo.@Col_datetime2 == @tabWithNoPrimaryKeyWithIdentity.@ColDatetime2 && lo.@Col_datetimeoffset == @tabWithNoPrimaryKeyWithIdentity.@ColDatetimeoffset && lo.@Col_decimal == @tabWithNoPrimaryKeyWithIdentity.@ColDecimal && lo.@Col_float == @tabWithNoPrimaryKeyWithIdentity.@ColFloat && lo.@Col_image.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColImage && lo.@Col_int == @tabWithNoPrimaryKeyWithIdentity.@ColInt && lo.@Col_money == @tabWithNoPrimaryKeyWithIdentity.@ColMoney && lo.@Col_nchar == @tabWithNoPrimaryKeyWithIdentity.@ColNchar && lo.@Col_ntext == @tabWithNoPrimaryKeyWithIdentity.@ColNtext && lo.@Col_numeric == @tabWithNoPrimaryKeyWithIdentity.@ColNumeric && lo.@Col_nvarchar == @tabWithNoPrimaryKeyWithIdentity.@ColNvarchar && lo.@Col_real == @tabWithNoPrimaryKeyWithIdentity.@ColReal && lo.@Col_rowversion.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColRowversion && lo.@Col_smalldatetime == @tabWithNoPrimaryKeyWithIdentity.@ColSmalldatetime && lo.@Col_smallint == @tabWithNoPrimaryKeyWithIdentity.@ColSmallint && lo.@Col_smallmoney == @tabWithNoPrimaryKeyWithIdentity.@ColSmallmoney && lo.@Col_sql_variant == @tabWithNoPrimaryKeyWithIdentity.@ColSqlVariant && lo.@Col_sysname == @tabWithNoPrimaryKeyWithIdentity.@ColSysname && lo.@Col_text == @tabWithNoPrimaryKeyWithIdentity.@ColText && lo.@Col_time == @tabWithNoPrimaryKeyWithIdentity.@ColTime && lo.@Col_tinyint == @tabWithNoPrimaryKeyWithIdentity.@ColTinyint && lo.@Col_uniqueidentifier == @tabWithNoPrimaryKeyWithIdentity.@ColUniqueidentifier && lo.@Col_varbinary.ToArray() == @tabWithNoPrimaryKeyWithIdentity.@ColVarbinary && lo.@Col_varchar == @tabWithNoPrimaryKeyWithIdentity.@ColVarchar && lo.@Col_xml == ToXElement(@tabWithNoPrimaryKeyWithIdentity.@ColXml));

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Tab_with_no_primary_key_with_identities.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
					
					return false;
				}

				this.OnPostDeleteTabWithNoPrimaryKeyWithIdentity(unitOfWork, @tabWithNoPrimaryKeyWithIdentity);
				
				@tabWithNoPrimaryKeyWithIdentity.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnPostInsertTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnPreUpdateTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnPostUpdateTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnPreDeleteTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnPostDeleteTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnSaveConflictTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnDiscardConflictTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);
		
		partial void OnSelectTabWithNoPrimaryKeyWithIdentity(IUnitOfWork unitOfWork, TabWithNoPrimaryKeyWithIdentity @tabWithNoPrimaryKeyWithIdentity);		

		public TabWithPrimaryKeyNoIdentity LoadTabWithPrimaryKeyNoIdentity(Int32 @colIntPk)
		{
			TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyNoIdentity = this.LoadTabWithPrimaryKeyNoIdentity(unitOfWork, @colIntPk);

					unitOfWork.Complete();
				}
			}
			else
				@tabWithPrimaryKeyNoIdentity = this.LoadTabWithPrimaryKeyNoIdentity(UnitOfWork.Current, @colIntPk);
			
			return @tabWithPrimaryKeyNoIdentity;
		}
		
		public TabWithPrimaryKeyNoIdentity LoadTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, Int32 @colIntPk)
		{			
			TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Tab_with_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_int_pk == @colIntPk);

				if ((object)query == null)
					return null; // does not exist
				
				@tabWithPrimaryKeyNoIdentity = new TabWithPrimaryKeyNoIdentity()
								{
									// map result to POCO from L2S object
									@ColIntPk = query.@Col_int_pk,
									@ColBigint = query.@Col_bigint,
									@ColBinary = (object)query.Col_binary != null ? query.@Col_binary.ToArray() : null,
									@ColBit = query.@Col_bit,
									@ColChar = query.@Col_char,
									@ColDate = query.@Col_date,
									@ColDatetime = query.@Col_datetime,
									@ColDatetime2 = query.@Col_datetime2,
									@ColDatetimeoffset = query.@Col_datetimeoffset,
									@ColDecimal = query.@Col_decimal,
									@ColFloat = query.@Col_float,
									@ColImage = (object)query.Col_image != null ? query.@Col_image.ToArray() : null,
									@ColInt = query.@Col_int,
									@ColMoney = query.@Col_money,
									@ColNchar = query.@Col_nchar,
									@ColNtext = query.@Col_ntext,
									@ColNumeric = query.@Col_numeric,
									@ColNvarchar = query.@Col_nvarchar,
									@ColReal = query.@Col_real,
									@ColRowversion = (object)query.Col_rowversion != null ? query.@Col_rowversion.ToArray() : null,
									@ColSmalldatetime = query.@Col_smalldatetime,
									@ColSmallint = query.@Col_smallint,
									@ColSmallmoney = query.@Col_smallmoney,
									@ColSqlVariant = query.@Col_sql_variant,
									@ColSysname = query.@Col_sysname,
									@ColText = query.@Col_text,
									@ColTime = query.@Col_time,
									@ColTinyint = query.@Col_tinyint,
									@ColUniqueidentifier = query.@Col_uniqueidentifier,
									@ColVarbinary = (object)query.Col_varbinary != null ? query.@Col_varbinary.ToArray() : null,
									@ColVarchar = query.@Col_varchar,
									@ColXml = (object)query.Col_xml != null ? ToXmlDocument(query.@Col_xml) : null
								};	

				this.OnSelectTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);

				return @tabWithPrimaryKeyNoIdentity;
			}
		}
		
		public IEnumerable<TabWithPrimaryKeyNoIdentity> FindTabWithPrimaryKeyNoIdentities(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity>> callback)
		{
			IEnumerable<TabWithPrimaryKeyNoIdentity> @tabWithPrimaryKeyNoIdentities;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithPrimaryKeyNoIdentities = this.FindTabWithPrimaryKeyNoIdentities(unitOfWork, callback);

					@tabWithPrimaryKeyNoIdentities = @tabWithPrimaryKeyNoIdentities.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@tabWithPrimaryKeyNoIdentities = this.FindTabWithPrimaryKeyNoIdentities(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @tabWithPrimaryKeyNoIdentities;
		}
		
		public IEnumerable<TabWithPrimaryKeyNoIdentity> FindTabWithPrimaryKeyNoIdentities(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity>> callback)
		{
			IEnumerable<TabWithPrimaryKeyNoIdentity> @tabWithPrimaryKeyNoIdentities;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Tab_with_primary_key_no_identities);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@tabWithPrimaryKeyNoIdentities = queryable.Select(lo => new TabWithPrimaryKeyNoIdentity()
												 {
													// map results to POCOs from L2S objects
													@ColIntPk = lo.@Col_int_pk,
													@ColBigint = lo.@Col_bigint,
													@ColBinary = (object)lo.Col_binary != null ? lo.@Col_binary.ToArray() : null,
													@ColBit = lo.@Col_bit,
													@ColChar = lo.@Col_char,
													@ColDate = lo.@Col_date,
													@ColDatetime = lo.@Col_datetime,
													@ColDatetime2 = lo.@Col_datetime2,
													@ColDatetimeoffset = lo.@Col_datetimeoffset,
													@ColDecimal = lo.@Col_decimal,
													@ColFloat = lo.@Col_float,
													@ColImage = (object)lo.Col_image != null ? lo.@Col_image.ToArray() : null,
													@ColInt = lo.@Col_int,
													@ColMoney = lo.@Col_money,
													@ColNchar = lo.@Col_nchar,
													@ColNtext = lo.@Col_ntext,
													@ColNumeric = lo.@Col_numeric,
													@ColNvarchar = lo.@Col_nvarchar,
													@ColReal = lo.@Col_real,
													@ColRowversion = (object)lo.Col_rowversion != null ? lo.@Col_rowversion.ToArray() : null,
													@ColSmalldatetime = lo.@Col_smalldatetime,
													@ColSmallint = lo.@Col_smallint,
													@ColSmallmoney = lo.@Col_smallmoney,
													@ColSqlVariant = lo.@Col_sql_variant,
													@ColSysname = lo.@Col_sysname,
													@ColText = lo.@Col_text,
													@ColTime = lo.@Col_time,
													@ColTinyint = lo.@Col_tinyint,
													@ColUniqueidentifier = lo.@Col_uniqueidentifier,
													@ColVarbinary = (object)lo.Col_varbinary != null ? lo.@Col_varbinary.ToArray() : null,
													@ColVarchar = lo.@Col_varchar,
													@ColXml = (object)lo.Col_xml != null ? ToXmlDocument(lo.@Col_xml) : null
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity in @tabWithPrimaryKeyNoIdentities)
				{
					this.OnSelectTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
					
					yield return @tabWithPrimaryKeyNoIdentity; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveTabWithPrimaryKeyNoIdentity(TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveTabWithPrimaryKeyNoIdentity(UnitOfWork.Current, @tabWithPrimaryKeyNoIdentity);
			
			return retval;
		}
		
		public bool SaveTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyNoIdentity == null)
				throw new ArgumentNullException("tabWithPrimaryKeyNoIdentity");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @tabWithPrimaryKeyNoIdentity.IsNew;

				if (wasNew)
				{
					this.OnPreInsertTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity();

					wrapper.Disposable.Tab_with_primary_key_no_identities.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
					
					query = wrapper.Disposable.Tab_with_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_int_pk == @tabWithPrimaryKeyNoIdentity.@ColIntPk);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@Col_int_pk = @tabWithPrimaryKeyNoIdentity.@ColIntPk;
				query.@Col_bigint = @tabWithPrimaryKeyNoIdentity.@ColBigint;
				if ((object)@tabWithPrimaryKeyNoIdentity.@ColBinary != null) // prevent implicit conversion of null -> exception
					query.@Col_binary = @tabWithPrimaryKeyNoIdentity.@ColBinary;
				query.@Col_bit = @tabWithPrimaryKeyNoIdentity.@ColBit;
				query.@Col_char = @tabWithPrimaryKeyNoIdentity.@ColChar;
				query.@Col_date = @tabWithPrimaryKeyNoIdentity.@ColDate;
				query.@Col_datetime = @tabWithPrimaryKeyNoIdentity.@ColDatetime;
				query.@Col_datetime2 = @tabWithPrimaryKeyNoIdentity.@ColDatetime2;
				query.@Col_datetimeoffset = @tabWithPrimaryKeyNoIdentity.@ColDatetimeoffset;
				query.@Col_decimal = @tabWithPrimaryKeyNoIdentity.@ColDecimal;
				query.@Col_float = @tabWithPrimaryKeyNoIdentity.@ColFloat;
				if ((object)@tabWithPrimaryKeyNoIdentity.@ColImage != null) // prevent implicit conversion of null -> exception
					query.@Col_image = @tabWithPrimaryKeyNoIdentity.@ColImage;
				query.@Col_int = @tabWithPrimaryKeyNoIdentity.@ColInt;
				query.@Col_money = @tabWithPrimaryKeyNoIdentity.@ColMoney;
				query.@Col_nchar = @tabWithPrimaryKeyNoIdentity.@ColNchar;
				query.@Col_ntext = @tabWithPrimaryKeyNoIdentity.@ColNtext;
				query.@Col_numeric = @tabWithPrimaryKeyNoIdentity.@ColNumeric;
				query.@Col_nvarchar = @tabWithPrimaryKeyNoIdentity.@ColNvarchar;
				query.@Col_real = @tabWithPrimaryKeyNoIdentity.@ColReal;
				if ((object)@tabWithPrimaryKeyNoIdentity.@ColRowversion != null) // prevent implicit conversion of null -> exception
					query.@Col_rowversion = @tabWithPrimaryKeyNoIdentity.@ColRowversion;
				query.@Col_smalldatetime = @tabWithPrimaryKeyNoIdentity.@ColSmalldatetime;
				query.@Col_smallint = @tabWithPrimaryKeyNoIdentity.@ColSmallint;
				query.@Col_smallmoney = @tabWithPrimaryKeyNoIdentity.@ColSmallmoney;
				query.@Col_sql_variant = @tabWithPrimaryKeyNoIdentity.@ColSqlVariant;
				query.@Col_sysname = @tabWithPrimaryKeyNoIdentity.@ColSysname;
				query.@Col_text = @tabWithPrimaryKeyNoIdentity.@ColText;
				query.@Col_time = @tabWithPrimaryKeyNoIdentity.@ColTime;
				query.@Col_tinyint = @tabWithPrimaryKeyNoIdentity.@ColTinyint;
				query.@Col_uniqueidentifier = @tabWithPrimaryKeyNoIdentity.@ColUniqueidentifier;
				if ((object)@tabWithPrimaryKeyNoIdentity.@ColVarbinary != null) // prevent implicit conversion of null -> exception
					query.@Col_varbinary = @tabWithPrimaryKeyNoIdentity.@ColVarbinary;
				query.@Col_varchar = @tabWithPrimaryKeyNoIdentity.@ColVarchar;
				if ((object)@tabWithPrimaryKeyNoIdentity.@ColXml != null) // prevent implicit conversion of null -> exception
					query.@Col_xml = ToXElement(@tabWithPrimaryKeyNoIdentity.@ColXml);		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@tabWithPrimaryKeyNoIdentity.@ColIntPk = query.@Col_int_pk;
				@tabWithPrimaryKeyNoIdentity.@ColBigint = query.@Col_bigint;
				@tabWithPrimaryKeyNoIdentity.@ColBinary = (object)query.@Col_binary != null ? query.@Col_binary.ToArray() : null;
				@tabWithPrimaryKeyNoIdentity.@ColBit = query.@Col_bit;
				@tabWithPrimaryKeyNoIdentity.@ColChar = query.@Col_char;
				@tabWithPrimaryKeyNoIdentity.@ColDate = query.@Col_date;
				@tabWithPrimaryKeyNoIdentity.@ColDatetime = query.@Col_datetime;
				@tabWithPrimaryKeyNoIdentity.@ColDatetime2 = query.@Col_datetime2;
				@tabWithPrimaryKeyNoIdentity.@ColDatetimeoffset = query.@Col_datetimeoffset;
				@tabWithPrimaryKeyNoIdentity.@ColDecimal = query.@Col_decimal;
				@tabWithPrimaryKeyNoIdentity.@ColFloat = query.@Col_float;
				@tabWithPrimaryKeyNoIdentity.@ColImage = (object)query.@Col_image != null ? query.@Col_image.ToArray() : null;
				@tabWithPrimaryKeyNoIdentity.@ColInt = query.@Col_int;
				@tabWithPrimaryKeyNoIdentity.@ColMoney = query.@Col_money;
				@tabWithPrimaryKeyNoIdentity.@ColNchar = query.@Col_nchar;
				@tabWithPrimaryKeyNoIdentity.@ColNtext = query.@Col_ntext;
				@tabWithPrimaryKeyNoIdentity.@ColNumeric = query.@Col_numeric;
				@tabWithPrimaryKeyNoIdentity.@ColNvarchar = query.@Col_nvarchar;
				@tabWithPrimaryKeyNoIdentity.@ColReal = query.@Col_real;
				@tabWithPrimaryKeyNoIdentity.@ColRowversion = (object)query.@Col_rowversion != null ? query.@Col_rowversion.ToArray() : null;
				@tabWithPrimaryKeyNoIdentity.@ColSmalldatetime = query.@Col_smalldatetime;
				@tabWithPrimaryKeyNoIdentity.@ColSmallint = query.@Col_smallint;
				@tabWithPrimaryKeyNoIdentity.@ColSmallmoney = query.@Col_smallmoney;
				@tabWithPrimaryKeyNoIdentity.@ColSqlVariant = query.@Col_sql_variant;
				@tabWithPrimaryKeyNoIdentity.@ColSysname = query.@Col_sysname;
				@tabWithPrimaryKeyNoIdentity.@ColText = query.@Col_text;
				@tabWithPrimaryKeyNoIdentity.@ColTime = query.@Col_time;
				@tabWithPrimaryKeyNoIdentity.@ColTinyint = query.@Col_tinyint;
				@tabWithPrimaryKeyNoIdentity.@ColUniqueidentifier = query.@Col_uniqueidentifier;
				@tabWithPrimaryKeyNoIdentity.@ColVarbinary = (object)query.@Col_varbinary != null ? query.@Col_varbinary.ToArray() : null;
				@tabWithPrimaryKeyNoIdentity.@ColVarchar = query.@Col_varchar;
				@tabWithPrimaryKeyNoIdentity.@ColXml = (object)query.@Col_xml != null ? ToXmlDocument(query.@Col_xml) : null;
						
				if (wasNew)
				{
					this.OnPostInsertTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
				}
				else
				{
					this.OnPostUpdateTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
				}

				return true;
			}
		}
		
		public bool DiscardTabWithPrimaryKeyNoIdentity(TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardTabWithPrimaryKeyNoIdentity(UnitOfWork.Current, @tabWithPrimaryKeyNoIdentity);
			
			return retval;
		}
		
		public bool DiscardTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_primary_key_no_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithPrimaryKeyNoIdentity == null)
				throw new ArgumentNullException("tabWithPrimaryKeyNoIdentity");
				
			if (@tabWithPrimaryKeyNoIdentity.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
				
				query = wrapper.Disposable.@Tab_with_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_int_pk == @tabWithPrimaryKeyNoIdentity.@ColIntPk);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Tab_with_primary_key_no_identities.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
					
					return false;
				}

				this.OnPostDeleteTabWithPrimaryKeyNoIdentity(unitOfWork, @tabWithPrimaryKeyNoIdentity);
				
				@tabWithPrimaryKeyNoIdentity.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnPostInsertTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnPreUpdateTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnPostUpdateTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnPreDeleteTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnPostDeleteTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnSaveConflictTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnDiscardConflictTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);
		
		partial void OnSelectTabWithPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithPrimaryKeyNoIdentity @tabWithPrimaryKeyNoIdentity);		

		public TabNoPrimaryKeyNoIdentity LoadTabNoPrimaryKeyNoIdentity(Int64 @colBigint, Byte[] @colBinary, Boolean @colBit, String @colChar, DateTime @colDate, DateTime @colDatetime, DateTime @colDatetime2, DateTimeOffset @colDatetimeoffset, Decimal @colDecimal, Double @colFloat, Byte[] @colImage, Int32 @colInt, Decimal @colMoney, String @colNchar, String @colNtext, Decimal @colNumeric, String @colNvarchar, Single @colReal, Byte[] @colRowversion, DateTime @colSmalldatetime, Int16 @colSmallint, Decimal @colSmallmoney, Object @colSqlVariant, String @colSysname, String @colText, TimeSpan @colTime, Byte @colTinyint, Guid @colUniqueidentifier, Byte[] @colVarbinary, String @colVarchar, XmlDocument @colXml)
		{
			TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabNoPrimaryKeyNoIdentity = this.LoadTabNoPrimaryKeyNoIdentity(unitOfWork, @colBigint, @colBinary, @colBit, @colChar, @colDate, @colDatetime, @colDatetime2, @colDatetimeoffset, @colDecimal, @colFloat, @colImage, @colInt, @colMoney, @colNchar, @colNtext, @colNumeric, @colNvarchar, @colReal, @colRowversion, @colSmalldatetime, @colSmallint, @colSmallmoney, @colSqlVariant, @colSysname, @colText, @colTime, @colTinyint, @colUniqueidentifier, @colVarbinary, @colVarchar, @colXml);

					unitOfWork.Complete();
				}
			}
			else
				@tabNoPrimaryKeyNoIdentity = this.LoadTabNoPrimaryKeyNoIdentity(UnitOfWork.Current, @colBigint, @colBinary, @colBit, @colChar, @colDate, @colDatetime, @colDatetime2, @colDatetimeoffset, @colDecimal, @colFloat, @colImage, @colInt, @colMoney, @colNchar, @colNtext, @colNumeric, @colNvarchar, @colReal, @colRowversion, @colSmalldatetime, @colSmallint, @colSmallmoney, @colSqlVariant, @colSysname, @colText, @colTime, @colTinyint, @colUniqueidentifier, @colVarbinary, @colVarchar, @colXml);
			
			return @tabNoPrimaryKeyNoIdentity;
		}
		
		public TabNoPrimaryKeyNoIdentity LoadTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, Int64 @colBigint, Byte[] @colBinary, Boolean @colBit, String @colChar, DateTime @colDate, DateTime @colDatetime, DateTime @colDatetime2, DateTimeOffset @colDatetimeoffset, Decimal @colDecimal, Double @colFloat, Byte[] @colImage, Int32 @colInt, Decimal @colMoney, String @colNchar, String @colNtext, Decimal @colNumeric, String @colNvarchar, Single @colReal, Byte[] @colRowversion, DateTime @colSmalldatetime, Int16 @colSmallint, Decimal @colSmallmoney, Object @colSqlVariant, String @colSysname, String @colText, TimeSpan @colTime, Byte @colTinyint, Guid @colUniqueidentifier, Byte[] @colVarbinary, String @colVarchar, XmlDocument @colXml)
		{			
			TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Tab_no_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_bigint == @colBigint && lo.@Col_binary.ToArray() == @colBinary && lo.@Col_bit == @colBit && lo.@Col_char == @colChar && lo.@Col_date == @colDate && lo.@Col_datetime == @colDatetime && lo.@Col_datetime2 == @colDatetime2 && lo.@Col_datetimeoffset == @colDatetimeoffset && lo.@Col_decimal == @colDecimal && lo.@Col_float == @colFloat && lo.@Col_image.ToArray() == @colImage && lo.@Col_int == @colInt && lo.@Col_money == @colMoney && lo.@Col_nchar == @colNchar && lo.@Col_ntext == @colNtext && lo.@Col_numeric == @colNumeric && lo.@Col_nvarchar == @colNvarchar && lo.@Col_real == @colReal && lo.@Col_rowversion.ToArray() == @colRowversion && lo.@Col_smalldatetime == @colSmalldatetime && lo.@Col_smallint == @colSmallint && lo.@Col_smallmoney == @colSmallmoney && lo.@Col_sql_variant == @colSqlVariant && lo.@Col_sysname == @colSysname && lo.@Col_text == @colText && lo.@Col_time == @colTime && lo.@Col_tinyint == @colTinyint && lo.@Col_uniqueidentifier == @colUniqueidentifier && lo.@Col_varbinary.ToArray() == @colVarbinary && lo.@Col_varchar == @colVarchar && lo.@Col_xml == ToXElement(@colXml));

				if ((object)query == null)
					return null; // does not exist
				
				@tabNoPrimaryKeyNoIdentity = new TabNoPrimaryKeyNoIdentity()
								{
									// map result to POCO from L2S object
									@ColBigint = query.@Col_bigint,
									@ColBinary = (object)query.Col_binary != null ? query.@Col_binary.ToArray() : null,
									@ColBit = query.@Col_bit,
									@ColChar = query.@Col_char,
									@ColDate = query.@Col_date,
									@ColDatetime = query.@Col_datetime,
									@ColDatetime2 = query.@Col_datetime2,
									@ColDatetimeoffset = query.@Col_datetimeoffset,
									@ColDecimal = query.@Col_decimal,
									@ColFloat = query.@Col_float,
									@ColImage = (object)query.Col_image != null ? query.@Col_image.ToArray() : null,
									@ColInt = query.@Col_int,
									@ColMoney = query.@Col_money,
									@ColNchar = query.@Col_nchar,
									@ColNtext = query.@Col_ntext,
									@ColNumeric = query.@Col_numeric,
									@ColNvarchar = query.@Col_nvarchar,
									@ColReal = query.@Col_real,
									@ColRowversion = (object)query.Col_rowversion != null ? query.@Col_rowversion.ToArray() : null,
									@ColSmalldatetime = query.@Col_smalldatetime,
									@ColSmallint = query.@Col_smallint,
									@ColSmallmoney = query.@Col_smallmoney,
									@ColSqlVariant = query.@Col_sql_variant,
									@ColSysname = query.@Col_sysname,
									@ColText = query.@Col_text,
									@ColTime = query.@Col_time,
									@ColTinyint = query.@Col_tinyint,
									@ColUniqueidentifier = query.@Col_uniqueidentifier,
									@ColVarbinary = (object)query.Col_varbinary != null ? query.@Col_varbinary.ToArray() : null,
									@ColVarchar = query.@Col_varchar,
									@ColXml = (object)query.Col_xml != null ? ToXmlDocument(query.@Col_xml) : null
								};	

				this.OnSelectTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);

				return @tabNoPrimaryKeyNoIdentity;
			}
		}
		
		public IEnumerable<TabNoPrimaryKeyNoIdentity> FindTabNoPrimaryKeyNoIdentities(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity>> callback)
		{
			IEnumerable<TabNoPrimaryKeyNoIdentity> @tabNoPrimaryKeyNoIdentities;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabNoPrimaryKeyNoIdentities = this.FindTabNoPrimaryKeyNoIdentities(unitOfWork, callback);

					@tabNoPrimaryKeyNoIdentities = @tabNoPrimaryKeyNoIdentities.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@tabNoPrimaryKeyNoIdentities = this.FindTabNoPrimaryKeyNoIdentities(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @tabNoPrimaryKeyNoIdentities;
		}
		
		public IEnumerable<TabNoPrimaryKeyNoIdentity> FindTabNoPrimaryKeyNoIdentities(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity>> callback)
		{
			IEnumerable<TabNoPrimaryKeyNoIdentity> @tabNoPrimaryKeyNoIdentities;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Tab_no_primary_key_no_identities);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@tabNoPrimaryKeyNoIdentities = queryable.Select(lo => new TabNoPrimaryKeyNoIdentity()
												 {
													// map results to POCOs from L2S objects
													@ColBigint = lo.@Col_bigint,
													@ColBinary = (object)lo.Col_binary != null ? lo.@Col_binary.ToArray() : null,
													@ColBit = lo.@Col_bit,
													@ColChar = lo.@Col_char,
													@ColDate = lo.@Col_date,
													@ColDatetime = lo.@Col_datetime,
													@ColDatetime2 = lo.@Col_datetime2,
													@ColDatetimeoffset = lo.@Col_datetimeoffset,
													@ColDecimal = lo.@Col_decimal,
													@ColFloat = lo.@Col_float,
													@ColImage = (object)lo.Col_image != null ? lo.@Col_image.ToArray() : null,
													@ColInt = lo.@Col_int,
													@ColMoney = lo.@Col_money,
													@ColNchar = lo.@Col_nchar,
													@ColNtext = lo.@Col_ntext,
													@ColNumeric = lo.@Col_numeric,
													@ColNvarchar = lo.@Col_nvarchar,
													@ColReal = lo.@Col_real,
													@ColRowversion = (object)lo.Col_rowversion != null ? lo.@Col_rowversion.ToArray() : null,
													@ColSmalldatetime = lo.@Col_smalldatetime,
													@ColSmallint = lo.@Col_smallint,
													@ColSmallmoney = lo.@Col_smallmoney,
													@ColSqlVariant = lo.@Col_sql_variant,
													@ColSysname = lo.@Col_sysname,
													@ColText = lo.@Col_text,
													@ColTime = lo.@Col_time,
													@ColTinyint = lo.@Col_tinyint,
													@ColUniqueidentifier = lo.@Col_uniqueidentifier,
													@ColVarbinary = (object)lo.Col_varbinary != null ? lo.@Col_varbinary.ToArray() : null,
													@ColVarchar = lo.@Col_varchar,
													@ColXml = (object)lo.Col_xml != null ? ToXmlDocument(lo.@Col_xml) : null
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity in @tabNoPrimaryKeyNoIdentities)
				{
					this.OnSelectTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
					
					yield return @tabNoPrimaryKeyNoIdentity; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveTabNoPrimaryKeyNoIdentity(TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveTabNoPrimaryKeyNoIdentity(UnitOfWork.Current, @tabNoPrimaryKeyNoIdentity);
			
			return retval;
		}
		
		public bool SaveTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabNoPrimaryKeyNoIdentity == null)
				throw new ArgumentNullException("tabNoPrimaryKeyNoIdentity");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @tabNoPrimaryKeyNoIdentity.IsNew;

				if (wasNew)
				{
					this.OnPreInsertTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity();

					wrapper.Disposable.Tab_no_primary_key_no_identities.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
					
					query = wrapper.Disposable.Tab_no_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_bigint == @tabNoPrimaryKeyNoIdentity.@ColBigint && lo.@Col_binary.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColBinary && lo.@Col_bit == @tabNoPrimaryKeyNoIdentity.@ColBit && lo.@Col_char == @tabNoPrimaryKeyNoIdentity.@ColChar && lo.@Col_date == @tabNoPrimaryKeyNoIdentity.@ColDate && lo.@Col_datetime == @tabNoPrimaryKeyNoIdentity.@ColDatetime && lo.@Col_datetime2 == @tabNoPrimaryKeyNoIdentity.@ColDatetime2 && lo.@Col_datetimeoffset == @tabNoPrimaryKeyNoIdentity.@ColDatetimeoffset && lo.@Col_decimal == @tabNoPrimaryKeyNoIdentity.@ColDecimal && lo.@Col_float == @tabNoPrimaryKeyNoIdentity.@ColFloat && lo.@Col_image.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColImage && lo.@Col_int == @tabNoPrimaryKeyNoIdentity.@ColInt && lo.@Col_money == @tabNoPrimaryKeyNoIdentity.@ColMoney && lo.@Col_nchar == @tabNoPrimaryKeyNoIdentity.@ColNchar && lo.@Col_ntext == @tabNoPrimaryKeyNoIdentity.@ColNtext && lo.@Col_numeric == @tabNoPrimaryKeyNoIdentity.@ColNumeric && lo.@Col_nvarchar == @tabNoPrimaryKeyNoIdentity.@ColNvarchar && lo.@Col_real == @tabNoPrimaryKeyNoIdentity.@ColReal && lo.@Col_rowversion.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColRowversion && lo.@Col_smalldatetime == @tabNoPrimaryKeyNoIdentity.@ColSmalldatetime && lo.@Col_smallint == @tabNoPrimaryKeyNoIdentity.@ColSmallint && lo.@Col_smallmoney == @tabNoPrimaryKeyNoIdentity.@ColSmallmoney && lo.@Col_sql_variant == @tabNoPrimaryKeyNoIdentity.@ColSqlVariant && lo.@Col_sysname == @tabNoPrimaryKeyNoIdentity.@ColSysname && lo.@Col_text == @tabNoPrimaryKeyNoIdentity.@ColText && lo.@Col_time == @tabNoPrimaryKeyNoIdentity.@ColTime && lo.@Col_tinyint == @tabNoPrimaryKeyNoIdentity.@ColTinyint && lo.@Col_uniqueidentifier == @tabNoPrimaryKeyNoIdentity.@ColUniqueidentifier && lo.@Col_varbinary.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColVarbinary && lo.@Col_varchar == @tabNoPrimaryKeyNoIdentity.@ColVarchar && lo.@Col_xml == ToXElement(@tabNoPrimaryKeyNoIdentity.@ColXml));

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@Col_bigint = @tabNoPrimaryKeyNoIdentity.@ColBigint;
				if ((object)@tabNoPrimaryKeyNoIdentity.@ColBinary != null) // prevent implicit conversion of null -> exception
					query.@Col_binary = @tabNoPrimaryKeyNoIdentity.@ColBinary;
				query.@Col_bit = @tabNoPrimaryKeyNoIdentity.@ColBit;
				query.@Col_char = @tabNoPrimaryKeyNoIdentity.@ColChar;
				query.@Col_date = @tabNoPrimaryKeyNoIdentity.@ColDate;
				query.@Col_datetime = @tabNoPrimaryKeyNoIdentity.@ColDatetime;
				query.@Col_datetime2 = @tabNoPrimaryKeyNoIdentity.@ColDatetime2;
				query.@Col_datetimeoffset = @tabNoPrimaryKeyNoIdentity.@ColDatetimeoffset;
				query.@Col_decimal = @tabNoPrimaryKeyNoIdentity.@ColDecimal;
				query.@Col_float = @tabNoPrimaryKeyNoIdentity.@ColFloat;
				if ((object)@tabNoPrimaryKeyNoIdentity.@ColImage != null) // prevent implicit conversion of null -> exception
					query.@Col_image = @tabNoPrimaryKeyNoIdentity.@ColImage;
				query.@Col_int = @tabNoPrimaryKeyNoIdentity.@ColInt;
				query.@Col_money = @tabNoPrimaryKeyNoIdentity.@ColMoney;
				query.@Col_nchar = @tabNoPrimaryKeyNoIdentity.@ColNchar;
				query.@Col_ntext = @tabNoPrimaryKeyNoIdentity.@ColNtext;
				query.@Col_numeric = @tabNoPrimaryKeyNoIdentity.@ColNumeric;
				query.@Col_nvarchar = @tabNoPrimaryKeyNoIdentity.@ColNvarchar;
				query.@Col_real = @tabNoPrimaryKeyNoIdentity.@ColReal;
				if ((object)@tabNoPrimaryKeyNoIdentity.@ColRowversion != null) // prevent implicit conversion of null -> exception
					query.@Col_rowversion = @tabNoPrimaryKeyNoIdentity.@ColRowversion;
				query.@Col_smalldatetime = @tabNoPrimaryKeyNoIdentity.@ColSmalldatetime;
				query.@Col_smallint = @tabNoPrimaryKeyNoIdentity.@ColSmallint;
				query.@Col_smallmoney = @tabNoPrimaryKeyNoIdentity.@ColSmallmoney;
				query.@Col_sql_variant = @tabNoPrimaryKeyNoIdentity.@ColSqlVariant;
				query.@Col_sysname = @tabNoPrimaryKeyNoIdentity.@ColSysname;
				query.@Col_text = @tabNoPrimaryKeyNoIdentity.@ColText;
				query.@Col_time = @tabNoPrimaryKeyNoIdentity.@ColTime;
				query.@Col_tinyint = @tabNoPrimaryKeyNoIdentity.@ColTinyint;
				query.@Col_uniqueidentifier = @tabNoPrimaryKeyNoIdentity.@ColUniqueidentifier;
				if ((object)@tabNoPrimaryKeyNoIdentity.@ColVarbinary != null) // prevent implicit conversion of null -> exception
					query.@Col_varbinary = @tabNoPrimaryKeyNoIdentity.@ColVarbinary;
				query.@Col_varchar = @tabNoPrimaryKeyNoIdentity.@ColVarchar;
				if ((object)@tabNoPrimaryKeyNoIdentity.@ColXml != null) // prevent implicit conversion of null -> exception
					query.@Col_xml = ToXElement(@tabNoPrimaryKeyNoIdentity.@ColXml);		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@tabNoPrimaryKeyNoIdentity.@ColBigint = query.@Col_bigint;
				@tabNoPrimaryKeyNoIdentity.@ColBinary = (object)query.@Col_binary != null ? query.@Col_binary.ToArray() : null;
				@tabNoPrimaryKeyNoIdentity.@ColBit = query.@Col_bit;
				@tabNoPrimaryKeyNoIdentity.@ColChar = query.@Col_char;
				@tabNoPrimaryKeyNoIdentity.@ColDate = query.@Col_date;
				@tabNoPrimaryKeyNoIdentity.@ColDatetime = query.@Col_datetime;
				@tabNoPrimaryKeyNoIdentity.@ColDatetime2 = query.@Col_datetime2;
				@tabNoPrimaryKeyNoIdentity.@ColDatetimeoffset = query.@Col_datetimeoffset;
				@tabNoPrimaryKeyNoIdentity.@ColDecimal = query.@Col_decimal;
				@tabNoPrimaryKeyNoIdentity.@ColFloat = query.@Col_float;
				@tabNoPrimaryKeyNoIdentity.@ColImage = (object)query.@Col_image != null ? query.@Col_image.ToArray() : null;
				@tabNoPrimaryKeyNoIdentity.@ColInt = query.@Col_int;
				@tabNoPrimaryKeyNoIdentity.@ColMoney = query.@Col_money;
				@tabNoPrimaryKeyNoIdentity.@ColNchar = query.@Col_nchar;
				@tabNoPrimaryKeyNoIdentity.@ColNtext = query.@Col_ntext;
				@tabNoPrimaryKeyNoIdentity.@ColNumeric = query.@Col_numeric;
				@tabNoPrimaryKeyNoIdentity.@ColNvarchar = query.@Col_nvarchar;
				@tabNoPrimaryKeyNoIdentity.@ColReal = query.@Col_real;
				@tabNoPrimaryKeyNoIdentity.@ColRowversion = (object)query.@Col_rowversion != null ? query.@Col_rowversion.ToArray() : null;
				@tabNoPrimaryKeyNoIdentity.@ColSmalldatetime = query.@Col_smalldatetime;
				@tabNoPrimaryKeyNoIdentity.@ColSmallint = query.@Col_smallint;
				@tabNoPrimaryKeyNoIdentity.@ColSmallmoney = query.@Col_smallmoney;
				@tabNoPrimaryKeyNoIdentity.@ColSqlVariant = query.@Col_sql_variant;
				@tabNoPrimaryKeyNoIdentity.@ColSysname = query.@Col_sysname;
				@tabNoPrimaryKeyNoIdentity.@ColText = query.@Col_text;
				@tabNoPrimaryKeyNoIdentity.@ColTime = query.@Col_time;
				@tabNoPrimaryKeyNoIdentity.@ColTinyint = query.@Col_tinyint;
				@tabNoPrimaryKeyNoIdentity.@ColUniqueidentifier = query.@Col_uniqueidentifier;
				@tabNoPrimaryKeyNoIdentity.@ColVarbinary = (object)query.@Col_varbinary != null ? query.@Col_varbinary.ToArray() : null;
				@tabNoPrimaryKeyNoIdentity.@ColVarchar = query.@Col_varchar;
				@tabNoPrimaryKeyNoIdentity.@ColXml = (object)query.@Col_xml != null ? ToXmlDocument(query.@Col_xml) : null;
						
				if (wasNew)
				{
					this.OnPostInsertTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
				}
				else
				{
					this.OnPostUpdateTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
				}

				return true;
			}
		}
		
		public bool DiscardTabNoPrimaryKeyNoIdentity(TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardTabNoPrimaryKeyNoIdentity(UnitOfWork.Current, @tabNoPrimaryKeyNoIdentity);
			
			return retval;
		}
		
		public bool DiscardTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_no_primary_key_no_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabNoPrimaryKeyNoIdentity == null)
				throw new ArgumentNullException("tabNoPrimaryKeyNoIdentity");
				
			if (@tabNoPrimaryKeyNoIdentity.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
				
				query = wrapper.Disposable.@Tab_no_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_bigint == @tabNoPrimaryKeyNoIdentity.@ColBigint && lo.@Col_binary.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColBinary && lo.@Col_bit == @tabNoPrimaryKeyNoIdentity.@ColBit && lo.@Col_char == @tabNoPrimaryKeyNoIdentity.@ColChar && lo.@Col_date == @tabNoPrimaryKeyNoIdentity.@ColDate && lo.@Col_datetime == @tabNoPrimaryKeyNoIdentity.@ColDatetime && lo.@Col_datetime2 == @tabNoPrimaryKeyNoIdentity.@ColDatetime2 && lo.@Col_datetimeoffset == @tabNoPrimaryKeyNoIdentity.@ColDatetimeoffset && lo.@Col_decimal == @tabNoPrimaryKeyNoIdentity.@ColDecimal && lo.@Col_float == @tabNoPrimaryKeyNoIdentity.@ColFloat && lo.@Col_image.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColImage && lo.@Col_int == @tabNoPrimaryKeyNoIdentity.@ColInt && lo.@Col_money == @tabNoPrimaryKeyNoIdentity.@ColMoney && lo.@Col_nchar == @tabNoPrimaryKeyNoIdentity.@ColNchar && lo.@Col_ntext == @tabNoPrimaryKeyNoIdentity.@ColNtext && lo.@Col_numeric == @tabNoPrimaryKeyNoIdentity.@ColNumeric && lo.@Col_nvarchar == @tabNoPrimaryKeyNoIdentity.@ColNvarchar && lo.@Col_real == @tabNoPrimaryKeyNoIdentity.@ColReal && lo.@Col_rowversion.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColRowversion && lo.@Col_smalldatetime == @tabNoPrimaryKeyNoIdentity.@ColSmalldatetime && lo.@Col_smallint == @tabNoPrimaryKeyNoIdentity.@ColSmallint && lo.@Col_smallmoney == @tabNoPrimaryKeyNoIdentity.@ColSmallmoney && lo.@Col_sql_variant == @tabNoPrimaryKeyNoIdentity.@ColSqlVariant && lo.@Col_sysname == @tabNoPrimaryKeyNoIdentity.@ColSysname && lo.@Col_text == @tabNoPrimaryKeyNoIdentity.@ColText && lo.@Col_time == @tabNoPrimaryKeyNoIdentity.@ColTime && lo.@Col_tinyint == @tabNoPrimaryKeyNoIdentity.@ColTinyint && lo.@Col_uniqueidentifier == @tabNoPrimaryKeyNoIdentity.@ColUniqueidentifier && lo.@Col_varbinary.ToArray() == @tabNoPrimaryKeyNoIdentity.@ColVarbinary && lo.@Col_varchar == @tabNoPrimaryKeyNoIdentity.@ColVarchar && lo.@Col_xml == ToXElement(@tabNoPrimaryKeyNoIdentity.@ColXml));

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Tab_no_primary_key_no_identities.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
					
					return false;
				}

				this.OnPostDeleteTabNoPrimaryKeyNoIdentity(unitOfWork, @tabNoPrimaryKeyNoIdentity);
				
				@tabNoPrimaryKeyNoIdentity.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnPostInsertTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnPreUpdateTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnPostUpdateTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnPreDeleteTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnPostDeleteTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnSaveConflictTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnDiscardConflictTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);
		
		partial void OnSelectTabNoPrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabNoPrimaryKeyNoIdentity @tabNoPrimaryKeyNoIdentity);		

		public TabWithCompositePrimaryKeyNoIdentity LoadTabWithCompositePrimaryKeyNoIdentity(Int32 @colIntPk0, Int32 @colIntPk1, Int32 @colIntPk2, Int32 @colIntPk3)
		{
			TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithCompositePrimaryKeyNoIdentity = this.LoadTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @colIntPk0, @colIntPk1, @colIntPk2, @colIntPk3);

					unitOfWork.Complete();
				}
			}
			else
				@tabWithCompositePrimaryKeyNoIdentity = this.LoadTabWithCompositePrimaryKeyNoIdentity(UnitOfWork.Current, @colIntPk0, @colIntPk1, @colIntPk2, @colIntPk3);
			
			return @tabWithCompositePrimaryKeyNoIdentity;
		}
		
		public TabWithCompositePrimaryKeyNoIdentity LoadTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, Int32 @colIntPk0, Int32 @colIntPk1, Int32 @colIntPk2, Int32 @colIntPk3)
		{			
			TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity;
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
										
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{					
				query = wrapper.Disposable.Tab_with_composite_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_int_pk0 == @colIntPk0 && lo.@Col_int_pk1 == @colIntPk1 && lo.@Col_int_pk2 == @colIntPk2 && lo.@Col_int_pk3 == @colIntPk3);

				if ((object)query == null)
					return null; // does not exist
				
				@tabWithCompositePrimaryKeyNoIdentity = new TabWithCompositePrimaryKeyNoIdentity()
								{
									// map result to POCO from L2S object
									@ColIntPk0 = query.@Col_int_pk0,
									@ColIntPk1 = query.@Col_int_pk1,
									@ColIntPk2 = query.@Col_int_pk2,
									@ColIntPk3 = query.@Col_int_pk3,
									@ColBigint = query.@Col_bigint,
									@ColBinary = (object)query.Col_binary != null ? query.@Col_binary.ToArray() : null,
									@ColBit = query.@Col_bit,
									@ColChar = query.@Col_char,
									@ColDate = query.@Col_date,
									@ColDatetime = query.@Col_datetime,
									@ColDatetime2 = query.@Col_datetime2,
									@ColDatetimeoffset = query.@Col_datetimeoffset,
									@ColDecimal = query.@Col_decimal,
									@ColFloat = query.@Col_float,
									@ColImage = (object)query.Col_image != null ? query.@Col_image.ToArray() : null,
									@ColInt = query.@Col_int,
									@ColMoney = query.@Col_money,
									@ColNchar = query.@Col_nchar,
									@ColNtext = query.@Col_ntext,
									@ColNumeric = query.@Col_numeric,
									@ColNvarchar = query.@Col_nvarchar,
									@ColReal = query.@Col_real,
									@ColRowversion = (object)query.Col_rowversion != null ? query.@Col_rowversion.ToArray() : null,
									@ColSmalldatetime = query.@Col_smalldatetime,
									@ColSmallint = query.@Col_smallint,
									@ColSmallmoney = query.@Col_smallmoney,
									@ColSqlVariant = query.@Col_sql_variant,
									@ColSysname = query.@Col_sysname,
									@ColText = query.@Col_text,
									@ColTime = query.@Col_time,
									@ColTinyint = query.@Col_tinyint,
									@ColUniqueidentifier = query.@Col_uniqueidentifier,
									@ColVarbinary = (object)query.Col_varbinary != null ? query.@Col_varbinary.ToArray() : null,
									@ColVarchar = query.@Col_varchar,
									@ColXml = (object)query.Col_xml != null ? ToXmlDocument(query.@Col_xml) : null
								};	

				this.OnSelectTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);

				return @tabWithCompositePrimaryKeyNoIdentity;
			}
		}
		
		public IEnumerable<TabWithCompositePrimaryKeyNoIdentity> FindTabWithCompositePrimaryKeyNoIdentities(Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity>> callback)
		{
			IEnumerable<TabWithCompositePrimaryKeyNoIdentity> @tabWithCompositePrimaryKeyNoIdentities;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					@tabWithCompositePrimaryKeyNoIdentities = this.FindTabWithCompositePrimaryKeyNoIdentities(unitOfWork, callback);

					@tabWithCompositePrimaryKeyNoIdentities = @tabWithCompositePrimaryKeyNoIdentities.ToList(); // FORCE EAGER LOAD
					
					unitOfWork.Complete();
				}
			}
			else
			{
				@tabWithCompositePrimaryKeyNoIdentities = this.FindTabWithCompositePrimaryKeyNoIdentities(UnitOfWork.Current, callback);
				
				// DO NOT FORCE EAGER LOAD
			}
			
			return @tabWithCompositePrimaryKeyNoIdentities;
		}
		
		public IEnumerable<TabWithCompositePrimaryKeyNoIdentity> FindTabWithCompositePrimaryKeyNoIdentities(IUnitOfWork unitOfWork, Func<IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity>, IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity>> callback)
		{
			IEnumerable<TabWithCompositePrimaryKeyNoIdentity> @tabWithCompositePrimaryKeyNoIdentities;			
			IQueryable<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity> queryable;			
			
			if ((object)unitOfWork == null)		
				throw new ArgumentNullException("unitOfWork");
				
			if ((object)callback == null)
				throw new ArgumentNullException("callback");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				queryable = callback(wrapper.Disposable.@Tab_with_composite_primary_key_no_identities);
				
				if ((object)queryable == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				@tabWithCompositePrimaryKeyNoIdentities = queryable.Select(lo => new TabWithCompositePrimaryKeyNoIdentity()
												 {
													// map results to POCOs from L2S objects
													@ColIntPk0 = lo.@Col_int_pk0,
													@ColIntPk1 = lo.@Col_int_pk1,
													@ColIntPk2 = lo.@Col_int_pk2,
													@ColIntPk3 = lo.@Col_int_pk3,
													@ColBigint = lo.@Col_bigint,
													@ColBinary = (object)lo.Col_binary != null ? lo.@Col_binary.ToArray() : null,
													@ColBit = lo.@Col_bit,
													@ColChar = lo.@Col_char,
													@ColDate = lo.@Col_date,
													@ColDatetime = lo.@Col_datetime,
													@ColDatetime2 = lo.@Col_datetime2,
													@ColDatetimeoffset = lo.@Col_datetimeoffset,
													@ColDecimal = lo.@Col_decimal,
													@ColFloat = lo.@Col_float,
													@ColImage = (object)lo.Col_image != null ? lo.@Col_image.ToArray() : null,
													@ColInt = lo.@Col_int,
													@ColMoney = lo.@Col_money,
													@ColNchar = lo.@Col_nchar,
													@ColNtext = lo.@Col_ntext,
													@ColNumeric = lo.@Col_numeric,
													@ColNvarchar = lo.@Col_nvarchar,
													@ColReal = lo.@Col_real,
													@ColRowversion = (object)lo.Col_rowversion != null ? lo.@Col_rowversion.ToArray() : null,
													@ColSmalldatetime = lo.@Col_smalldatetime,
													@ColSmallint = lo.@Col_smallint,
													@ColSmallmoney = lo.@Col_smallmoney,
													@ColSqlVariant = lo.@Col_sql_variant,
													@ColSysname = lo.@Col_sysname,
													@ColText = lo.@Col_text,
													@ColTime = lo.@Col_time,
													@ColTinyint = lo.@Col_tinyint,
													@ColUniqueidentifier = lo.@Col_uniqueidentifier,
													@ColVarbinary = (object)lo.Col_varbinary != null ? lo.@Col_varbinary.ToArray() : null,
													@ColVarchar = lo.@Col_varchar,
													@ColXml = (object)lo.Col_xml != null ? ToXmlDocument(lo.@Col_xml) : null
												 }); // DOES NOT FORCE EXECUTION AGAINST STORE

				foreach (TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity in @tabWithCompositePrimaryKeyNoIdentities)
				{
					this.OnSelectTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
					
					yield return @tabWithCompositePrimaryKeyNoIdentity; // LAZY PROCESSING INTENT HERE / DO NOT FORCE EAGER LOAD
				}				
			}			
		}
		
		public bool SaveTabWithCompositePrimaryKeyNoIdentity(TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity)
		{
			bool retval;

			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.SaveTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.SaveTabWithCompositePrimaryKeyNoIdentity(UnitOfWork.Current, @tabWithCompositePrimaryKeyNoIdentity);
			
			return retval;
		}
		
		public bool SaveTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity query;
			bool wasNew;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithCompositePrimaryKeyNoIdentity == null)
				throw new ArgumentNullException("tabWithCompositePrimaryKeyNoIdentity");
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{
				wasNew = @tabWithCompositePrimaryKeyNoIdentity.IsNew;

				if (wasNew)
				{
					this.OnPreInsertTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
					
					query = new TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity();

					wrapper.Disposable.Tab_with_composite_primary_key_no_identities.InsertOnSubmit(query);
				}
				else
				{
					this.OnPreUpdateTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
					
					query = wrapper.Disposable.Tab_with_composite_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_int_pk0 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk0 && lo.@Col_int_pk1 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk1 && lo.@Col_int_pk2 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk2 && lo.@Col_int_pk3 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk3);

					if((object)query == null)
						throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				}

				// map caller POCO changes to L2S object
				query.@Col_int_pk0 = @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk0;
				query.@Col_int_pk1 = @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk1;
				query.@Col_int_pk2 = @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk2;
				query.@Col_int_pk3 = @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk3;
				query.@Col_bigint = @tabWithCompositePrimaryKeyNoIdentity.@ColBigint;
				if ((object)@tabWithCompositePrimaryKeyNoIdentity.@ColBinary != null) // prevent implicit conversion of null -> exception
					query.@Col_binary = @tabWithCompositePrimaryKeyNoIdentity.@ColBinary;
				query.@Col_bit = @tabWithCompositePrimaryKeyNoIdentity.@ColBit;
				query.@Col_char = @tabWithCompositePrimaryKeyNoIdentity.@ColChar;
				query.@Col_date = @tabWithCompositePrimaryKeyNoIdentity.@ColDate;
				query.@Col_datetime = @tabWithCompositePrimaryKeyNoIdentity.@ColDatetime;
				query.@Col_datetime2 = @tabWithCompositePrimaryKeyNoIdentity.@ColDatetime2;
				query.@Col_datetimeoffset = @tabWithCompositePrimaryKeyNoIdentity.@ColDatetimeoffset;
				query.@Col_decimal = @tabWithCompositePrimaryKeyNoIdentity.@ColDecimal;
				query.@Col_float = @tabWithCompositePrimaryKeyNoIdentity.@ColFloat;
				if ((object)@tabWithCompositePrimaryKeyNoIdentity.@ColImage != null) // prevent implicit conversion of null -> exception
					query.@Col_image = @tabWithCompositePrimaryKeyNoIdentity.@ColImage;
				query.@Col_int = @tabWithCompositePrimaryKeyNoIdentity.@ColInt;
				query.@Col_money = @tabWithCompositePrimaryKeyNoIdentity.@ColMoney;
				query.@Col_nchar = @tabWithCompositePrimaryKeyNoIdentity.@ColNchar;
				query.@Col_ntext = @tabWithCompositePrimaryKeyNoIdentity.@ColNtext;
				query.@Col_numeric = @tabWithCompositePrimaryKeyNoIdentity.@ColNumeric;
				query.@Col_nvarchar = @tabWithCompositePrimaryKeyNoIdentity.@ColNvarchar;
				query.@Col_real = @tabWithCompositePrimaryKeyNoIdentity.@ColReal;
				if ((object)@tabWithCompositePrimaryKeyNoIdentity.@ColRowversion != null) // prevent implicit conversion of null -> exception
					query.@Col_rowversion = @tabWithCompositePrimaryKeyNoIdentity.@ColRowversion;
				query.@Col_smalldatetime = @tabWithCompositePrimaryKeyNoIdentity.@ColSmalldatetime;
				query.@Col_smallint = @tabWithCompositePrimaryKeyNoIdentity.@ColSmallint;
				query.@Col_smallmoney = @tabWithCompositePrimaryKeyNoIdentity.@ColSmallmoney;
				query.@Col_sql_variant = @tabWithCompositePrimaryKeyNoIdentity.@ColSqlVariant;
				query.@Col_sysname = @tabWithCompositePrimaryKeyNoIdentity.@ColSysname;
				query.@Col_text = @tabWithCompositePrimaryKeyNoIdentity.@ColText;
				query.@Col_time = @tabWithCompositePrimaryKeyNoIdentity.@ColTime;
				query.@Col_tinyint = @tabWithCompositePrimaryKeyNoIdentity.@ColTinyint;
				query.@Col_uniqueidentifier = @tabWithCompositePrimaryKeyNoIdentity.@ColUniqueidentifier;
				if ((object)@tabWithCompositePrimaryKeyNoIdentity.@ColVarbinary != null) // prevent implicit conversion of null -> exception
					query.@Col_varbinary = @tabWithCompositePrimaryKeyNoIdentity.@ColVarbinary;
				query.@Col_varchar = @tabWithCompositePrimaryKeyNoIdentity.@ColVarchar;
				if ((object)@tabWithCompositePrimaryKeyNoIdentity.@ColXml != null) // prevent implicit conversion of null -> exception
					query.@Col_xml = ToXElement(@tabWithCompositePrimaryKeyNoIdentity.@ColXml);		
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnSaveConflictTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
					
					return false;
				}

				// map server changes back to POCO from L2S object
				@tabWithCompositePrimaryKeyNoIdentity.@ColIntPk0 = query.@Col_int_pk0;
				@tabWithCompositePrimaryKeyNoIdentity.@ColIntPk1 = query.@Col_int_pk1;
				@tabWithCompositePrimaryKeyNoIdentity.@ColIntPk2 = query.@Col_int_pk2;
				@tabWithCompositePrimaryKeyNoIdentity.@ColIntPk3 = query.@Col_int_pk3;
				@tabWithCompositePrimaryKeyNoIdentity.@ColBigint = query.@Col_bigint;
				@tabWithCompositePrimaryKeyNoIdentity.@ColBinary = (object)query.@Col_binary != null ? query.@Col_binary.ToArray() : null;
				@tabWithCompositePrimaryKeyNoIdentity.@ColBit = query.@Col_bit;
				@tabWithCompositePrimaryKeyNoIdentity.@ColChar = query.@Col_char;
				@tabWithCompositePrimaryKeyNoIdentity.@ColDate = query.@Col_date;
				@tabWithCompositePrimaryKeyNoIdentity.@ColDatetime = query.@Col_datetime;
				@tabWithCompositePrimaryKeyNoIdentity.@ColDatetime2 = query.@Col_datetime2;
				@tabWithCompositePrimaryKeyNoIdentity.@ColDatetimeoffset = query.@Col_datetimeoffset;
				@tabWithCompositePrimaryKeyNoIdentity.@ColDecimal = query.@Col_decimal;
				@tabWithCompositePrimaryKeyNoIdentity.@ColFloat = query.@Col_float;
				@tabWithCompositePrimaryKeyNoIdentity.@ColImage = (object)query.@Col_image != null ? query.@Col_image.ToArray() : null;
				@tabWithCompositePrimaryKeyNoIdentity.@ColInt = query.@Col_int;
				@tabWithCompositePrimaryKeyNoIdentity.@ColMoney = query.@Col_money;
				@tabWithCompositePrimaryKeyNoIdentity.@ColNchar = query.@Col_nchar;
				@tabWithCompositePrimaryKeyNoIdentity.@ColNtext = query.@Col_ntext;
				@tabWithCompositePrimaryKeyNoIdentity.@ColNumeric = query.@Col_numeric;
				@tabWithCompositePrimaryKeyNoIdentity.@ColNvarchar = query.@Col_nvarchar;
				@tabWithCompositePrimaryKeyNoIdentity.@ColReal = query.@Col_real;
				@tabWithCompositePrimaryKeyNoIdentity.@ColRowversion = (object)query.@Col_rowversion != null ? query.@Col_rowversion.ToArray() : null;
				@tabWithCompositePrimaryKeyNoIdentity.@ColSmalldatetime = query.@Col_smalldatetime;
				@tabWithCompositePrimaryKeyNoIdentity.@ColSmallint = query.@Col_smallint;
				@tabWithCompositePrimaryKeyNoIdentity.@ColSmallmoney = query.@Col_smallmoney;
				@tabWithCompositePrimaryKeyNoIdentity.@ColSqlVariant = query.@Col_sql_variant;
				@tabWithCompositePrimaryKeyNoIdentity.@ColSysname = query.@Col_sysname;
				@tabWithCompositePrimaryKeyNoIdentity.@ColText = query.@Col_text;
				@tabWithCompositePrimaryKeyNoIdentity.@ColTime = query.@Col_time;
				@tabWithCompositePrimaryKeyNoIdentity.@ColTinyint = query.@Col_tinyint;
				@tabWithCompositePrimaryKeyNoIdentity.@ColUniqueidentifier = query.@Col_uniqueidentifier;
				@tabWithCompositePrimaryKeyNoIdentity.@ColVarbinary = (object)query.@Col_varbinary != null ? query.@Col_varbinary.ToArray() : null;
				@tabWithCompositePrimaryKeyNoIdentity.@ColVarchar = query.@Col_varchar;
				@tabWithCompositePrimaryKeyNoIdentity.@ColXml = (object)query.@Col_xml != null ? ToXmlDocument(query.@Col_xml) : null;
						
				if (wasNew)
				{
					this.OnPostInsertTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
				}
				else
				{
					this.OnPostUpdateTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
				}

				return true;
			}
		}
		
		public bool DiscardTabWithCompositePrimaryKeyNoIdentity(TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity)
		{
			bool retval;
			
			if ((object)UnitOfWork.Current == null)
			{
				using (IUnitOfWork unitOfWork = Repository.DefaultUnitOfWorkFactory.Instance.GetUnitOfWork())
				{
					retval = this.DiscardTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);

					unitOfWork.Complete();
				}
			}
			else
				retval = this.DiscardTabWithCompositePrimaryKeyNoIdentity(UnitOfWork.Current, @tabWithCompositePrimaryKeyNoIdentity);
			
			return retval;
		}
		
		public bool DiscardTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity)
		{
			TextMetal.HostImpl.AspNetSample.DomainModel.L2S.Tab_with_composite_primary_key_no_identity query;
			
			if ((object)unitOfWork == null)
				throw new ArgumentNullException("unitOfWork");
			
			if ((object)@tabWithCompositePrimaryKeyNoIdentity == null)
				throw new ArgumentNullException("tabWithCompositePrimaryKeyNoIdentity");
				
			if (@tabWithCompositePrimaryKeyNoIdentity.IsNew)
				return true;
				
			using (AmbientUnitOfWorkAwareDisposableWrapper<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext> wrapper = unitOfWork.GetContext<TextMetal.HostImpl.AspNetSample.DomainModel.L2S.TextMetalOdsDataContext>())
			{				
				this.OnPreDeleteTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
				
				query = wrapper.Disposable.@Tab_with_composite_primary_key_no_identities.SingleOrDefault(lo => lo.@Col_int_pk0 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk0 && lo.@Col_int_pk1 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk1 && lo.@Col_int_pk2 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk2 && lo.@Col_int_pk3 == @tabWithCompositePrimaryKeyNoIdentity.@ColIntPk3);

				if((object)query == null)
					throw new InvalidOperationException(string.Format("The queryable returned was invalid."));
				
				wrapper.Disposable.@Tab_with_composite_primary_key_no_identities.DeleteOnSubmit(query);
				
				try
				{
					wrapper.Disposable.SubmitChanges(ConflictMode.FailOnFirstConflict);
				}
				catch (ChangeConflictException ccex)
				{
					this.OnDiscardConflictTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
					
					return false;
				}

				this.OnPostDeleteTabWithCompositePrimaryKeyNoIdentity(unitOfWork, @tabWithCompositePrimaryKeyNoIdentity);
				
				@tabWithCompositePrimaryKeyNoIdentity.IsNew = false;				

				return true;
			}
		}
		
		partial void OnPreInsertTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnPostInsertTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnPreUpdateTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnPostUpdateTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnPreDeleteTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnPostDeleteTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnSaveConflictTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnDiscardConflictTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);
		
		partial void OnSelectTabWithCompositePrimaryKeyNoIdentity(IUnitOfWork unitOfWork, TabWithCompositePrimaryKeyNoIdentity @tabWithCompositePrimaryKeyNoIdentity);		

		#endregion
	}
}
